webpackJsonp([0],[function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.app=exports.dependent=exports.name=void 0;var _angular=__webpack_require__(17),_angular2=_interopRequireDefault(_angular),_angularCookies=__webpack_require__(27),_angularUiRouter=(_interopRequireDefault(_angularCookies),__webpack_require__(28)),_angularUiBootstrap=(_interopRequireDefault(_angularUiRouter),__webpack_require__(29)),_root=(_interopRequireDefault(_angularUiBootstrap),__webpack_require__(78)),_root2=_interopRequireDefault(_root),_commonDialog=__webpack_require__(64),_commonDialog2=_interopRequireDefault(_commonDialog),_login=__webpack_require__(68),_login2=_interopRequireDefault(_login),_tophead=__webpack_require__(108),_tophead2=_interopRequireDefault(_tophead),_studentSidebar=__webpack_require__(88),_studentSidebar2=_interopRequireDefault(_studentSidebar),_teacherSidebar=__webpack_require__(104),_teacherSidebar2=_interopRequireDefault(_teacherSidebar),_registerStudent=__webpack_require__(76),_registerStudent2=_interopRequireDefault(_registerStudent),_registerTeacher=__webpack_require__(77),_registerTeacher2=_interopRequireDefault(_registerTeacher),_teacherCenter=__webpack_require__(94),_teacherCenter2=_interopRequireDefault(_teacherCenter),_homeworkDetail=__webpack_require__(67),_homeworkDetail2=_interopRequireDefault(_homeworkDetail),_teacherManagerClassCreate=__webpack_require__(99),_teacherManagerClassCreate2=_interopRequireDefault(_teacherManagerClassCreate),_teacherClassStudent=__webpack_require__(95),_teacherClassStudent2=_interopRequireDefault(_teacherClassStudent),_teacherAssignStudent=__webpack_require__(93),_teacherAssignStudent2=_interopRequireDefault(_teacherAssignStudent),_teacherPaper=__webpack_require__(103),_teacherPaper2=_interopRequireDefault(_teacherPaper),_teacherPaperNavigation=__webpack_require__(102),_teacherPaperNavigation2=_interopRequireDefault(_teacherPaperNavigation),_publishPaper=__webpack_require__(75),_publishPaper2=_interopRequireDefault(_publishPaper),_paperDetail=__webpack_require__(71),_paperDetail2=_interopRequireDefault(_paperDetail),_paperResult=__webpack_require__(73),_paperResult2=_interopRequireDefault(_paperResult),_paperResultDetail=__webpack_require__(72),_paperResultDetail2=_interopRequireDefault(_paperResultDetail),_studentTest=__webpack_require__(92),_studentTest2=_interopRequireDefault(_studentTest),_studentTestPaper=__webpack_require__(91),_studentTestPaper2=_interopRequireDefault(_studentTestPaper),_studentTestPaperList=__webpack_require__(89),_studentTestPaperList2=_interopRequireDefault(_studentTestPaperList),_teacherHomeworkNavigation=__webpack_require__(96),_teacherHomeworkNavigation2=_interopRequireDefault(_teacherHomeworkNavigation),_homeworkCreate=__webpack_require__(66),_homeworkCreate2=_interopRequireDefault(_homeworkCreate),_homeWorkHistory=__webpack_require__(65),_homeWorkHistory2=_interopRequireDefault(_homeWorkHistory),_teacherHomeworkResultList=__webpack_require__(98),_teacherHomeworkResultList2=_interopRequireDefault(_teacherHomeworkResultList),_teacherHomeworkResultDetail=__webpack_require__(97),_teacherHomeworkResultDetail2=_interopRequireDefault(_teacherHomeworkResultDetail),_onlineAnswer=__webpack_require__(69),_onlineAnswer2=_interopRequireDefault(_onlineAnswer),_teacherOnlineAnswerNavigation=__webpack_require__(101),_teacherOnlineAnswerNavigation2=_interopRequireDefault(_teacherOnlineAnswerNavigation),_teacheronlineHistoryAnswer=__webpack_require__(107),_teacheronlineHistoryAnswer2=_interopRequireDefault(_teacheronlineHistoryAnswer),_teacherUploadFile=__webpack_require__(105),_teacherUploadFile2=_interopRequireDefault(_teacherUploadFile),_studentTestPaperResultDetail=__webpack_require__(90),_studentTestPaperResultDetail2=_interopRequireDefault(_studentTestPaperResultDetail),_studentHomework=__webpack_require__(83),_studentHomework2=_interopRequireDefault(_studentHomework),_studentHomeworkList=__webpack_require__(81),_studentHomeworkList2=_interopRequireDefault(_studentHomeworkList),_studentHomeworkResultDetail=__webpack_require__(82),_studentHomeworkResultDetail2=_interopRequireDefault(_studentHomeworkResultDetail),_onlineQuestion=__webpack_require__(70),_onlineQuestion2=_interopRequireDefault(_onlineQuestion),_studentCenter=__webpack_require__(79),_studentCenter2=_interopRequireDefault(_studentCenter),_teacherUserInfo=__webpack_require__(106),_teacherUserInfo2=_interopRequireDefault(_teacherUserInfo),_publishHomework=__webpack_require__(74),_publishHomework2=_interopRequireDefault(_publishHomework),_teacherOnlineAnswerDetail=__webpack_require__(100),_teacherOnlineAnswerDetail2=_interopRequireDefault(_teacherOnlineAnswerDetail),_studentHomeworkDetail=__webpack_require__(80),_studentHomeworkDetail2=_interopRequireDefault(_studentHomeworkDetail),_studentOnlineNavigation=__webpack_require__(85),_studentOnlineNavigation2=_interopRequireDefault(_studentOnlineNavigation),_studentPostQuestion=__webpack_require__(86),_studentPostQuestion2=_interopRequireDefault(_studentPostQuestion),_studentOnlineAnswerDetail=__webpack_require__(84),_studentOnlineAnswerDetail2=_interopRequireDefault(_studentOnlineAnswerDetail),_studentQuestionHistory=__webpack_require__(87),_studentQuestionHistory2=_interopRequireDefault(_studentQuestionHistory),_adminCenter=__webpack_require__(62),_adminCenter2=_interopRequireDefault(_adminCenter),_adminSidebar=__webpack_require__(63),_adminSidebar2=_interopRequireDefault(_adminSidebar),_http=__webpack_require__(110),_http2=_interopRequireDefault(_http),_router=__webpack_require__(109),settingRouter=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_router),_cwDialog=__webpack_require__(3),_cwDialog2=_interopRequireDefault(_cwDialog),name=exports.name="app",dependent=exports.dependent=["ngCookies","ui.router","ui.bootstrap","ng"],app=exports.app=_angular2.default.module(name,dependent);app.config(["$cookiesProvider",function($cookiesProvider){var curr=(new Date).getTime();curr+=10368e6,$cookiesProvider.defaults.expires=new Date(curr)}]),(0,_commonDialog2.default)(app),(0,_root2.default)(app),(0,_login2.default)(app),(0,_tophead2.default)(app),(0,_studentSidebar2.default)(app),(0,_teacherSidebar2.default)(app),(0,_registerTeacher2.default)(app),(0,_registerStudent2.default)(app),(0,_teacherCenter2.default)(app),(0,_homeworkDetail2.default)(app),(0,_teacherManagerClassCreate2.default)(app),(0,_teacherAssignStudent2.default)(app),(0,_teacherPaper2.default)(app),(0,_teacherPaperNavigation2.default)(app),(0,_teacherUploadFile2.default)(app),(0,_publishPaper2.default)(app),(0,_paperResult2.default)(app),(0,_http2.default)(app),(0,_paperDetail2.default)(app),(0,_paperResultDetail2.default)(app),(0,_teacherHomeworkNavigation2.default)(app),(0,_homeworkCreate2.default)(app),(0,_homeWorkHistory2.default)(app),(0,_teacherHomeworkResultList2.default)(app),(0,_teacherHomeworkResultDetail2.default)(app),(0,_onlineAnswer2.default)(app),(0,_teacherOnlineAnswerDetail2.default)(app),(0,_teacherOnlineAnswerNavigation2.default)(app),(0,_teacheronlineHistoryAnswer2.default)(app),(0,_teacherUserInfo2.default)(app),(0,_teacherClassStudent2.default)(app),(0,_studentTest2.default)(app),(0,_studentTestPaperList2.default)(app),(0,_studentTestPaper2.default)(app),(0,_studentTestPaperResultDetail2.default)(app),(0,_studentHomework2.default)(app),(0,_onlineQuestion2.default)(app),(0,_studentCenter2.default)(app),(0,_studentHomeworkList2.default)(app),(0,_publishHomework2.default)(app),(0,_studentHomeworkDetail2.default)(app),(0,_studentHomeworkResultDetail2.default)(app),(0,_studentOnlineNavigation2.default)(app),(0,_studentPostQuestion2.default)(app),(0,_studentQuestionHistory2.default)(app),(0,_studentOnlineAnswerDetail2.default)(app),(0,_adminCenter2.default)(app),(0,_adminSidebar2.default)(app),(0,_cwDialog2.default)(app),app.config(["$stateProvider",settingRouter.routerConfig])},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _promise=__webpack_require__(117),_promise2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_promise);exports.default=function(fn){return function(){var gen=fn.apply(this,arguments);return new _promise2.default(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return _promise2.default.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(165)},function(module,exports,__webpack_require__){"use strict";function root(app){app.component(name,{templateUrl:"./component/cwDialog/cwDialog.html",controller:["$scope","$element","$state","$q",controller]})}function controller($scope,$element,$state,$q){function openDialog(params){var type=params.type||"normal",deferred=$q.defer(),defaultDialog={title:"提示信息",content:""};switch(type){case"normal":defaultDialog.btnList=["取消"];break;case"warning":defaultDialog.btnList=[]}var dialog=angular.merge(defaultDialog,params);dialog.result=deferred.promise,dialog.click=function(btn){deferred.resolve(btn),vm.dialogList.shift()},vm.dialogList.push(dialog);var onceChange=$scope.$watch("$ctrl.dialogList[0].content",function(){document.getElementsByTagName("p")[1].innerHTML=dialog.content.replace(/\n/g,"<br>"),onceChange()});return deferred.promise}var vm=this;vm.dialogList=[],vm.$onInit=function(){dialog.openDialog=openDialog}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=exports.dialog=void 0,exports.default=root;var dialog=(__webpack_require__(0),exports.dialog={openDialog:null}),name=exports.name="cwDialog"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){var cof=__webpack_require__(18),TAG=__webpack_require__(5)("toStringTag"),ARG="Arguments"==cof(function(){return arguments}()),tryGet=function(it,key){try{return it[key]}catch(e){}};module.exports=function(it){var O,T,B;return void 0===it?"Undefined":null===it?"Null":"string"==typeof(T=tryGet(O=Object(it),TAG))?T:ARG?cof(O):"Object"==(B=cof(O))&&"function"==typeof O.callee?"Arguments":B}},,,,,,,,,,function(module,exports,__webpack_require__){var defer,channel,port,ctx=__webpack_require__(20),invoke=__webpack_require__(135),html=__webpack_require__(47),cel=__webpack_require__(33),global=__webpack_require__(6),process=global.process,setTask=global.setImmediate,clearTask=global.clearImmediate,MessageChannel=global.MessageChannel,counter=0,queue={},run=function(){var id=+this;if(queue.hasOwnProperty(id)){var fn=queue[id];delete queue[id],fn()}},listener=function(event){run.call(event.data)};setTask&&clearTask||(setTask=function(fn){for(var args=[],i=1;arguments.length>i;)args.push(arguments[i++]);return queue[++counter]=function(){invoke("function"==typeof fn?fn:Function(fn),args)},defer(counter),counter},clearTask=function(id){delete queue[id]},"process"==__webpack_require__(18)(process)?defer=function(id){process.nextTick(ctx(run,id,1))}:MessageChannel?(channel=new MessageChannel,port=channel.port2,channel.port1.onmessage=listener,defer=ctx(port.postMessage,port,1)):global.addEventListener&&"function"==typeof postMessage&&!global.importScripts?(defer=function(id){global.postMessage(id+"","*")},global.addEventListener("message",listener,!1)):defer="onreadystatechange"in cel("script")?function(id){html.appendChild(cel("script")).onreadystatechange=function(){html.removeChild(this),run.call(id)}}:function(id){setTimeout(ctx(run,id,1),0)}),module.exports={set:setTask,clear:clearTask}},,,,,function(module,exports){var g;g=function(){return this}();try{g=g||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(g=window)}module.exports=g},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/adminCenter/adminCenter.html",controller:["$scope","$element","$state","$cookies","http","$httpParamSerializerJQLike",controller]})}function controller($scope,$element,$state,$cookies,http,$httpParamSerializerJQLike){function getData(){for(var newData=[],start=(vm.currentPage-1)*vm.pageItem,i=start;i<start+vm.pageItem;++i){if(i>=vm.allUser.length)return void(vm.userResult=newData);newData.push(vm.allUser[i])}vm.userResult=newData}function showErrMsg(errMsg){_cwDialog.dialog.openDialog({type:"warning",title:"提示",content:errMsg})}var init=function(){var _ref=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:vm.currentType=vm.types[0],vm.getUser();case 2:case"end":return _context.stop()}},_callee,this)}));return function(){return _ref.apply(this,arguments)}}(),updateStudentInfo=function(){var _ref6=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee6(userinfo){var data,result;return _regenerator2.default.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.prev=0,data={school_number:userinfo.school_number,realName:userinfo.realName,password:userinfo.password,school:userinfo.school,telephone:userinfo.telephone,studentID:userinfo.userID},_context6.next=4,http.post("UpdateStudent",data);case 4:result=_context6.sent,1==result?showErrMsg("修改成功"):(showErrMsg("修改失败"),vm.getUser()),_context6.next=11;break;case 8:_context6.prev=8,_context6.t0=_context6.catch(0),showErrMsg("更新信息异常");case 11:case"end":return _context6.stop()}},_callee6,this,[[0,8]])}));return function(_x){return _ref6.apply(this,arguments)}}(),updateTeacherInfo=function(){var _ref7=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee7(userinfo){var data,result;return _regenerator2.default.wrap(function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return _context7.prev=0,data={teacher_number:userinfo.teacher_number,realName:userinfo.realName,password:userinfo.password,teacherID:userinfo.userID},_context7.next=4,http.post("UpdateTeacher",data);case 4:result=_context7.sent,1==result?showErrMsg("修改成功"):(showErrMsg("修改失败"),vm.getUser()),_context7.next=11;break;case 8:_context7.prev=8,_context7.t0=_context7.catch(0),showErrMsg("更新信息异常");case 11:case"end":return _context7.stop()}},_callee7,this,[[0,8]])}));return function(_x2){return _ref7.apply(this,arguments)}}(),showConfrimMsg=function(){var _ref9=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee9(confirmMsg){return _regenerator2.default.wrap(function(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return _context9.next=2,_cwDialog.dialog.openDialog({type:"normal",title:"操作提示",content:confirmMsg});case 2:return _context9.abrupt("return",_context9.sent);case 3:case"end":return _context9.stop()}},_callee9,this)}));return function(_x4){return _ref9.apply(this,arguments)}}(),vm=this;vm.userResult=null,vm.isStudent=!0,vm.isTeacher=!1,vm.userinfo=null,vm.isShow=!1,vm.isShow2=!1,vm.isShow3=!1,vm.currentPage=1,vm.pageItem=5,vm.maxSize=5,vm.allUser=[],vm.types=[{label:"学生",value:0},{label:"老师",value:1}],vm.$onInit=init,vm.pageChanged=function(){getData()},vm.getUser=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(0!==vm.currentType.value){_context2.next=17;break}return vm.isStudent=!0,vm.isTeacher=!1,_context2.prev=3,_context2.next=6,http.get("GetStudents");case 6:vm.userResult=_context2.sent,vm.allUser=vm.userResult,getData(),_context2.next=15;break;case 11:return _context2.prev=11,_context2.t0=_context2.catch(3),showErrMsg("获取学生信息失败"),_context2.abrupt("return");case 15:_context2.next=32;break;case 17:if(1!==vm.currentType.value){_context2.next=32;break}return vm.isStudent=!1,vm.isTeacher=!0,_context2.prev=20,_context2.next=23,http.get("GetTeachers");case 23:vm.userResult=_context2.sent,vm.allUser=vm.userResult,getData(),_context2.next=32;break;case 28:return _context2.prev=28,_context2.t1=_context2.catch(20),showErrMsg("获取老师信息失败"),_context2.abrupt("return");case 32:case"end":return _context2.stop()}},_callee2,this,[[3,11],[20,28]])})),vm.search=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(){var result;return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(""!==vm.user_number){_context3.next=4;break}vm.getUser(),_context3.next=10;break;case 4:return 0===vm.currentType.value?(vm.isStudent=!0,vm.isTeacher=!1):(vm.isStudent=!1,vm.isTeacher=!0),_context3.next=7,http.get("GetUserInfoByName",{user_number:vm.user_number,type:vm.currentType.value});case 7:result=_context3.sent,vm.userResult.splice(0,vm.userResult.length),vm.userResult.push(result);case 10:case"end":return _context3.stop()}},_callee3,this)})),vm.addStudent=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee4(){var userResult,result;return _regenerator2.default.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,http.get("GetUserInfoByName",{user_number:vm.school_number,type:0});case 2:if(null===(userResult=_context4.sent)){_context4.next=7;break}showErrMsg("改学号已存在"),_context4.next=11;break;case 7:return _context4.next=9,http.post("StudentRegister",$httpParamSerializerJQLike({school_number:vm.school_number,realName:vm.studentRealName}),{"Content-Type":"application/x-www-form-urlencoded"});case 9:result=_context4.sent,!0===result&&(vm.getUser(),showErrMsg("添加学生成功"));case 11:case"end":return _context4.stop()}},_callee4,this)})),vm.addTeacher=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee5(){var userResult,result;return _regenerator2.default.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,http.get("GetUserInfoByName",{user_number:vm.teacher_number,type:1});case 2:if(null===(userResult=_context5.sent)){_context5.next=7;break}showErrMsg("改教工号已存在"),_context5.next=11;break;case 7:return _context5.next=9,http.post("TeacherRegister",$httpParamSerializerJQLike({teacher_number:vm.teacher_number,realName:vm.teacherRealName}),{"Content-Type":"application/x-www-form-urlencoded"});case 9:result=_context5.sent,!0===result&&(showErrMsg("添加老师成功"),vm.getUser());case 11:case"end":return _context5.stop()}},_callee5,this)})),vm.edit=function(user){vm.userinfo=user,0===vm.currentType.value?(vm.isShow=!0,vm.isShow2=!0,vm.isShow3=!1):(vm.isShow=!1,vm.isShow2=!0,vm.isShow3=!0),vm.style={width:"400px",top:"30%",left:"40%",border:"1px solid #888","box-shadow":"1px 1px 10px black",padding:"10px","font-size":"12px",position:"absolute","text-align":"center",background:"#fff","z-index":11,"border-radius":"1px"};var popLayer=document.getElementById("popLayer");popLayer.style.width=document.body.clientWidth+"px",popLayer.style.height=document.body.clientHeight+"px"},vm.updateStudent=function(){updateStudentInfo(vm.userinfo),vm.isShow=!1,vm.isShow2=!1},vm.dismiss=function(){vm.isShow=!1,vm.isShow2=!1,vm.isShow3=!1,vm.getUser()},vm.updateTeacher=function(){updateTeacherInfo(vm.userinfo),vm.isShow2=!1,vm.isShow3=!1},vm.deleteUser=function(){var _ref8=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee8(user){var confirmMsg,confirm,result;return _regenerator2.default.wrap(function(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return confirmMsg="您真的确定要删除吗？\n\n请确认！",_context8.next=3,showConfrimMsg(confirmMsg);case 3:if("确定"!==(confirm=_context8.sent)){_context8.next=9;break}return _context8.next=7,http.get("DeleteUser",{type:vm.currentType.value,userID:user.userID});case 7:result=_context8.sent,1==result?(showErrMsg("删除成功"),vm.getUser()):(showErrMsg("删除失败"),vm.getUser());case 9:case"end":return _context8.stop()}},_callee8,this)}));return function(_x3){return _ref8.apply(this,arguments)}}()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var _cwDialog=(__webpack_require__(0),__webpack_require__(3)),name=exports.name="adminCenter"},function(module,exports,__webpack_require__){"use strict";function root(app){app.component(name,{templateUrl:"./component/adminSidebar/adminSidebar.html",controller:["$scope","$rootScope","$element","$state","$cookies","$transitions","http",controller]})}function controller($scope,$rootScope,$element,$state,$cookies,$transitions,http){this.$onInit=function(){}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0,exports.default=root;var name=(__webpack_require__(0),exports.name="adminSidebar")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/commonDialog/commonDialog.html",controller:["$scope","$element","$state","$cookies","http","$stateParams",controller],bindings:{resolve:"<",close:"&",dismiss:"&"}})}function controller($scope,$element,$state,$cookies,http,$stateParams){var vm=this;vm.title="提示信息",vm.content="",vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:vm.content=vm.resolve.content;case 1:case"end":return _context.stop()}},_callee,this)})),vm.ok=function(){vm.close()},vm.cancel=function(){vm.dismiss()}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var name=(__webpack_require__(0),exports.name="commonDialog")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/homeWorkHistory/homeWorkHistory.html",controller:["$scope","$element","$state","$cookies","http","$stateParams",controller]})}function controller($scope,$element,$state,$cookies,http,$stateParams){function showErrMsg(errMsg){_cwDialog.dialog.openDialog({type:"warning",title:"提示",content:errMsg})}var getHomework=function(){var _ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,_context2.next=3,http.get("GetHomework",{currentPage:vm.currentPage,pageItems:vm.pageItems});case 3:vm.homeworks=_context2.sent,0!==vm.homeworks.length&&(vm.totalItems=vm.homeworks[0].count),vm.homeworks.forEach(function(item){item.finishTime&&(item.finishTime=new Date(item.finishTime.time))}),_context2.next=11;break;case 8:_context2.prev=8,_context2.t0=_context2.catch(0),showErrMsg("获取作业列表异常");case 11:case"end":return _context2.stop()}},_callee2,this,[[0,8]])}));return function(){return _ref2.apply(this,arguments)}}(),showConfrimMsg=function(){var _ref4=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee4(confirmMsg){return _regenerator2.default.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,_cwDialog.dialog.openDialog({type:"normal",title:"操作提示",content:confirmMsg});case 2:return _context4.abrupt("return",_context4.sent);case 3:case"end":return _context4.stop()}},_callee4,this)}));return function(_x2){return _ref4.apply(this,arguments)}}(),vm=this;vm.currentPage=1,vm.pageItems=8,vm.maxSize=5,vm.totalItems=0,vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:null!=$stateParams.currentPage&&(vm.currentPage=$stateParams.currentPage,vm.pageItems=$stateParams.pageItems,vm.totalItems=$stateParams.totalItems),getHomework();case 2:case"end":return _context.stop()}},_callee,this)})),vm.pageChanged=function(){getHomework()},vm.deleteHomeWork=function(){var _ref3=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(homeId){var confirm,result;return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,showConfrimMsg("是否删除该作业?");case 2:if("确定"!==(confirm=_context3.sent)){_context3.next=16;break}return _context3.next=6,http.get("DeleteHomeWork",{homeworkID:homeId});case 6:if(!0!==(result=_context3.sent)){_context3.next=15;break}return showErrMsg("作业删除成功"),_context3.next=11,http.get("GetHomework");case 11:vm.homeworks=_context3.sent,vm.homeworks.forEach(function(item){item.finishTime&&(item.finishTime=new Date(item.finishTime.time))}),_context3.next=16;break;case 15:showErrMsg("删除失败");case 16:case"end":return _context3.stop()}},_callee3,this)}));return function(_x){return _ref3.apply(this,arguments)}}()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var _cwDialog=(__webpack_require__(0),__webpack_require__(3)),name=exports.name="homeWorkHistory"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/homeworkCreate/homeworkCreate.html",controller:["$scope","$element","$state","$cookies","http",controller]})}function controller($scope,$element,$state,$cookies,http){function checkQuestion(question){var type=question.type.value;if(void 0===question.title)return showErrMsg("请输入题目内容"),!1;if(1===type){if(void 0===question.optionA)return showErrMsg("请输入选项A"),!1;if(void 0===question.optionB)return showErrMsg("请输入选项B"),!1;if(void 0===question.optionC)return showErrMsg("请输入选项C"),!1;if(void 0===question.optionD)return showErrMsg("请输入选项D"),!1}return!!question.answer||(showErrMsg("请输入答案"),!1)}function showErrMsg(errMsg){_cwDialog.dialog.openDialog({type:"warning",title:"提示",content:errMsg})}var vm=(function(){var _ref3=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(confirmMsg){return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,_cwDialog.dialog.openDialog({type:"normal",title:"操作提示",content:confirmMsg});case 2:return _context3.abrupt("return",_context3.sent);case 3:case"end":return _context3.stop()}},_callee3,this)}))}(),this);vm.types=[{label:"选择题",value:1},{label:"判断题",value:2},{label:"简答题",value:3}];var temp={type:vm.types[0],title:"",answer:"",optionA:"",optionB:"",optionC:"",optionD:""};vm.homework={name:(new Date).toLocaleString(),finishTime:new Date,questions:[],subjectId:null},vm.questions=[],vm.currentQuestion=(0,_assign2.default)({},temp),vm.currentQuestion=vm.types[0],vm.questions.push(vm.currentQuestion),vm.currIndex=0,vm.currentSubject=null,vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return vm.currentQuestion.type=vm.types[0],_context.next=3,http.get("GetTeacherSubject");case 3:vm.subjectlist=_context.sent,vm.subjectlist.length>0&&(vm.currentSubject=vm.subjectlist[0]);case 5:case"end":return _context.stop()}},_callee,this)})),vm.upItem=function(){0!==vm.currIndex&&(--vm.currIndex,vm.currentQuestion=vm.questions[vm.currIndex])},vm.createNextQuestion=function(){if(!1!==checkQuestion(vm.currentQuestion))if(++vm.currIndex,vm.questions[vm.currIndex])vm.currentQuestion=vm.questions[vm.currIndex];else{var itemTemp=(0,_assign2.default)({},temp);itemTemp.type=vm.types[0],vm.questions.push(itemTemp),vm.currentQuestion=itemTemp}},vm.createHomework=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){var questionList,list,rs;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(!1!==checkQuestion(vm.currentQuestion)){_context2.next=2;break}return _context2.abrupt("return");case 2:return questionList={titles:[],subjectId:vm.currentSubject.SubjectID},vm.questions.forEach(function(item){var temp=(0,_assign2.default)({},item);temp.type=temp.type.value,questionList.titles.push(temp)}),_context2.prev=4,_context2.next=7,http.post("AddQuestion",questionList);case 7:return list=_context2.sent,list.forEach(function(item){vm.homework.questions.push({questionID:item.itemId})}),vm.homework.subjectId=vm.currentSubject.SubjectID,_context2.next=12,http.post("CreateHomework",vm.homework);case 12:rs=_context2.sent,!0===rs?(showErrMsg("创建作业成功"),$state.go("teacher.homeWorkHistory")):showErrMsg("创建作业失败"),_context2.next=19;break;case 16:_context2.prev=16,_context2.t0=_context2.catch(4),showErrMsg("创建作业失败");case 19:case"end":return _context2.stop()}},_callee2,this,[[4,16]])}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2),_assign=__webpack_require__(113),_assign2=_interopRequireDefault(_assign);exports.default=root;var _cwDialog=(__webpack_require__(0),__webpack_require__(3)),name=exports.name="homeworkCreate"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/homeworkDetail/homeworkDetail.html",controller:["$scope","$element","$state","$cookies","http","$stateParams",controller]})}function controller($scope,$element,$state,$cookies,http,$stateParams){function showErrMsg(errMsg){_cwDialog.dialog.openDialog({type:"warning",title:"提示",content:errMsg})}var vm=this;vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,vm.homework={homeWorkName:$stateParams.homeWorkName,homeworkId:$stateParams.homeworkId},vm.currentPage=$stateParams.currentPage,vm.pageItems=$stateParams.pageItems,vm.totalItems=$stateParams.totalItems,_context.next=7,http.get("GetHomeworkDetail",{homeworkID:vm.homework.homeworkId});case 7:vm.homeworkDetail=_context.sent,_context.next=13;break;case 10:_context.prev=10,_context.t0=_context.catch(0),showErrMsg("获取作业详情异常");case 13:case"end":return _context.stop()}},_callee,this,[[0,10]])}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var _cwDialog=(__webpack_require__(0),__webpack_require__(3)),name=exports.name="homeworkDetail"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/login/login.html",controller:["$scope","$element","$state","$cookies","http",controller]})}function controller($scope,$element,$state,$cookies,http){function loginCheck(){return vm.userInfo.user_number?vm.userInfo.password?(vm.userInfo.user_number=vm.userInfo.user_number.trim(),vm.userInfo.password=vm.userInfo.password.trim(),vm.userInfo.user_number&&""!==vm.userInfo.user_number?!(!vm.userInfo.password||""===vm.userInfo.password)||(showErrMsg("密码不能为空"),!1):(showErrMsg("用户名不能为空"),!1)):(showErrMsg("密码不能为空"),!1):(showErrMsg("用户名不能为空"),!1)}function showErrMsg(errMsg){_cwDialog.dialog.openDialog({type:"warning",title:"提示",content:errMsg})}var login=function(){var _ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){var userData,userResult,result;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(!1!==loginCheck()){_context2.next=2;break}return _context2.abrupt("return");case 2:return userData={},angular.copy(vm.userInfo,userData),userData.type=parseInt(userData.type),userResult=null,_context2.prev=6,_context2.next=9,http.get("GetUserInfoByName",{user_number:userData.user_number,type:userData.type});case 9:if(null!==(userResult=_context2.sent)&&""!==userResult.password){_context2.next=13;break}return showErrMsg("该账号未注册，请先注册"),_context2.abrupt("return");case 13:_context2.next=19;break;case 15:return _context2.prev=15,_context2.t0=_context2.catch(6),showErrMsg("检查用户信息失败"),_context2.abrupt("return");case 19:return result=null,_context2.prev=20,_context2.next=23,http.post("Login",userData);case 23:result=_context2.sent,_context2.next=30;break;case 26:return _context2.prev=26,_context2.t1=_context2.catch(20),showErrMsg("用户名或密码错误"),_context2.abrupt("return");case 30:vm.remember&&(result.password=vm.userInfo.password),0===userData.type?($cookies.putObject("userInfo",result),$state.go("student.test")):1===userData.type?($cookies.putObject("userInfo",result),$state.go("teacher.paperCreate")):($cookies.putObject("userInfo",result),$state.go("admin.center"));case 32:case"end":return _context2.stop()}},_callee2,this,[[6,15],[20,26]])}));return function(){return _ref2.apply(this,arguments)}}(),vm=(function(){var _ref3=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(confirmMsg){return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,_cwDialog.dialog.openDialog({type:"normal",title:"操作提示",content:confirmMsg});case 2:return _context3.abrupt("return",_context3.sent);case 3:case"end":return _context3.stop()}},_callee3,this)}))}(),this);vm.userInfo={user_number:"",password:"",type:"0"},vm.subjects=[],vm.loginResultMsg=!1,vm.remember=!0,vm.login=login,vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){var userInfo;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:userInfo=$cookies.getObject("userInfo"),userInfo&&("0"===userInfo.type?(vm.userInfo.user_number=userInfo.school_number,vm.userInfo.password=userInfo.password):"1"===userInfo.type?(vm.userInfo.user_number=userInfo.teacher_number,vm.userInfo.password=userInfo.password):"2"===userInfo.type&&(vm.userInfo.user_number=userInfo.teacher_number,vm.userInfo.password=userInfo.password),vm.userInfo.type=userInfo.type);case 2:case"end":return _context.stop()}},_callee,this)}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var _cwDialog=(__webpack_require__(0),__webpack_require__(3)),name=exports.name="login"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/onlineAnswer/onlineAnswer.html",controller:["$scope","$element","$state","$cookies","http","$stateParams",controller]})}function controller($scope,$element,$state,$cookies,http,$stateParams){var getClassQuestion=function(){var _ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(){var result,_this=this;return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return console.log(vm.currentClass),_context3.next=3,http.get("GetClassQuestion",{classID:vm.currentClass.classes.classId,currentPage:vm.currentPage,pageItems:vm.pageItems});case 3:result=_context3.sent,vm.questionsList=result,0!==result.length&&(vm.totalItems=result[0].count),vm.questionsList.forEach(function(){var _ref3=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(item){var studentInfo;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return item.createTime=new Date(item.createTime.time),_context2.next=3,http.get("GetStudents",{userID:item.studentId});case 3:studentInfo=_context2.sent,0!==studentInfo.length&&(item.studentName=studentInfo[0].realName);case 5:case"end":return _context2.stop()}},_callee2,_this)}));return function(_x){return _ref3.apply(this,arguments)}}());case 7:case"end":return _context3.stop()}},_callee3,this)}));return function(){return _ref2.apply(this,arguments)}}(),vm=this;vm.questionsList=null,vm.currentClass=null,vm.currentPage=1,vm.pageItems=8,vm.maxSize=5,vm.totalItems=0,vm.getClassQuestion=getClassQuestion,vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){var classes;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,http.get("GetTeacherClasses");case 2:classes=_context.sent,vm.classes=classes,null!=$stateParams.currentClass?(vm.currentClass=$stateParams.currentClass,vm.currentPage=$stateParams.currentPage,vm.pageItems=$stateParams.pageItems,vm.totalItems=$stateParams.totalItems,getClassQuestion()):vm.classes.length>0&&(vm.currentClass=vm.classes[0],getClassQuestion());case 5:case"end":return _context.stop()}},_callee,this)})),vm.pageChanged=function(){getClassQuestion()}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var name=(__webpack_require__(0),exports.name="onlineAnswer")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/onlineQuestion/onlineQuestion.html",controller:["$scope","$element","$state","$cookies","http","$stateParams",controller]})}function controller($scope,$element,$state,$cookies,http,$stateParams){var getClassQuestion=function(){var _ref3=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee4(){var result,_this2=this;return _regenerator2.default.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return console.log(vm.currentClass),_context4.next=3,http.get("GetClassQuestion",{classID:vm.currentClass.classId,currentPage:vm.currentPage,pageItems:vm.pageItems});case 3:result=_context4.sent,vm.questionsList=result,0!==result.length&&(vm.totalItems=result[0].count),vm.questionsList.forEach(function(){var _ref4=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(item){var studentInfo;return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return item.createTime=new Date(item.createTime.time),_context3.next=3,http.get("GetStudents",{userID:item.studentId});case 3:studentInfo=_context3.sent,0!==studentInfo.length&&(item.studentName=studentInfo[0].realName);case 5:case"end":return _context3.stop()}},_callee3,_this2)}));return function(_x2){return _ref4.apply(this,arguments)}}());case 7:case"end":return _context4.stop()}},_callee4,this)}));return function(){return _ref3.apply(this,arguments)}}(),vm=this;vm.questionsList=null,vm.currentClass=null,vm.getClassQuestion=getClassQuestion,vm.currentPage=1,vm.pageItems=8,vm.maxSize=5,vm.totalItems=0,vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){var classes,_this=this;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,http.get("GetAllSubject");case 2:classes=_context2.sent,vm.classes=classes,vm.classes.forEach(function(){var _ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(item){var result;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,http.get("GetClassNameByClassId",{classID:item.classId});case 2:result=_context.sent,null!=result&&(item.className=result.className);case 4:case"end":return _context.stop()}},_callee,_this)}));return function(_x){return _ref2.apply(this,arguments)}}()),null!=$stateParams.currentClass?(vm.currentClass=$stateParams.currentClass,vm.currentPage=$stateParams.currentPage,vm.pageItems=$stateParams.pageItems,vm.totalItems=$stateParams.totalItems):vm.classes&&vm.classes.length>0&&(vm.currentClass=vm.classes[0]),null!=vm.currentClass&&getClassQuestion();case 7:case"end":return _context2.stop()}},_callee2,this)})),vm.pageChanged=function(){getClassQuestion()}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var name=(__webpack_require__(0),exports.name="onlineQuestion")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/paperDetail/paperDetail.html",controller:["$scope","$element","$state","$cookies","http","$stateParams",controller]})}function controller($scope,$element,$state,$cookies,http,$stateParams){function showErrMsg(errMsg){_cwDialog.dialog.openDialog({type:"warning",title:"提示",content:errMsg})}var vm=this;vm.msg="",vm.paper={},vm.paperDetail=null,vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(vm.paper={testName:$stateParams.testName,testpaperID:$stateParams.testpaperID},vm.currentPage=$stateParams.currentPage,vm.pageItems=$stateParams.pageItems,vm.totalItems=$stateParams.totalItems,null!==vm.paper&&null!==vm.paper.testpaperID){_context.next=6;break}return _context.abrupt("return");case 6:return _context.prev=6,_context.next=9,http.get("GetPaperDetail",{paperID:vm.paper.testpaperID});case 9:vm.paperDetail=_context.sent,_context.next=15;break;case 12:_context.prev=12,_context.t0=_context.catch(6),showErrMsg("获取试卷详情异常");case 15:case"end":return _context.stop()}},_callee,this,[[6,12]])}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var _cwDialog=(__webpack_require__(0),__webpack_require__(3)),name=exports.name="paperDetail"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/paperResultDetail/paperResultDetail.html",controller:["$scope","$element","$state","$cookies","http","$stateParams",controller]})}function controller($scope,$element,$state,$cookies,http,$stateParams){function showErrMsg(errMsg){_cwDialog.dialog.openDialog({type:"warning",title:"提示",content:errMsg})}var vm=this;vm.msg="",vm.paperResult=null,vm.paperResultList=[],vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return vm.paperResult={id:$stateParams.resultId,testpaperID:$stateParams.testpaperID,testName:$stateParams.testName},_context.prev=1,_context.next=4,http.get("GetPaperResultDetail",{paperResultID:vm.paperResult.id});case 4:vm.paperResultList=_context.sent,_context.next=10;break;case 7:_context.prev=7,_context.t0=_context.catch(1),showErrMsg("获取试卷作答结果详情异常");case 10:case"end":return _context.stop()}},_callee,this,[[1,7]])}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var _cwDialog=(__webpack_require__(0),__webpack_require__(3)),name=exports.name="paperResultDetail"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/paperResult/paperResult.html",controller:["$scope","$element","$state","$cookies","http","$stateParams",controller]})}function controller($scope,$element,$state,$cookies,http,$stateParams){function showErrMsg(errMsg){_cwDialog.dialog.openDialog({type:"warning",title:"提示",content:errMsg})}var vm=this;vm.msg="",vm.paper=null,vm.paperResultList=[],vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(vm.paper={testName:$stateParams.testName,testpaperID:$stateParams.testpaperID},vm.currentPage=$stateParams.currentPage,vm.pageItems=$stateParams.pageItems,vm.totalItems=$stateParams.totalItems,null!==vm.paper&&null!==vm.paper.testpaperID){_context.next=6;break}return _context.abrupt("return");case 6:return _context.prev=6,_context.next=9,http.get("GetPaperResult",{paperID:vm.paper.testpaperID});case 9:vm.paperResultList=_context.sent,_context.next=15;break;case 12:_context.prev=12,_context.t0=_context.catch(6),showErrMsg("获取试卷作答结果异常");case 15:case"end":return _context.stop()}},_callee,this,[[6,12]])}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var _cwDialog=(__webpack_require__(0),__webpack_require__(3)),name=exports.name="paperResult"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/publishHomework/publishHomework.html",controller:["$scope","$element","$state","$cookies","http","$stateParams",controller]})}function controller($scope,$element,$state,$cookies,http,$stateParams){function showErrMsg(errMsg){_cwDialog.dialog.openDialog({type:"warning",title:"提示",content:errMsg})}var vm=this;vm.msg="",vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return vm.homework={homeId:$stateParams.homeworkId},vm.currentPage=$stateParams.currentPage,vm.pageItems=$stateParams.pageItems,vm.totalItems=$stateParams.totalItems,vm.subjectId=$stateParams.subjectId,_context.prev=5,_context.next=8,http.get("GetTeacherSubjectClass",{subjectId:vm.subjectId});case 8:vm.classes=_context.sent,_context.next=14;break;case 11:_context.prev=11,_context.t0=_context.catch(5),showErrMsg("获取教师班级信息异常");case 14:case"end":return _context.stop()}},_callee,this,[[5,11]])})),vm.publish=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){var data,result;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return data={homeworkID:vm.homework.homeId,classesID:[]},vm.classes.forEach(function(item){item.isCheck&&data.classesID.push({classId:item.classId})}),_context2.prev=2,_context2.next=5,http.post("PublishHomework",data);case 5:result=_context2.sent,!0===result?(showErrMsg("作业发布成功"),$state.go("teacher.homeWorkHistory")):showErrMsg("作业发布失败"),_context2.next=12;break;case 9:_context2.prev=9,_context2.t0=_context2.catch(2),showErrMsg("作业发布失败");case 12:case"end":return _context2.stop()}},_callee2,this,[[2,9]])}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var _cwDialog=(__webpack_require__(0),__webpack_require__(3)),name=exports.name="publishHomework"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/publishPaper/publishPaper.html",controller:["$scope","$element","$state","$cookies","http","$stateParams",controller]})}function controller($scope,$element,$state,$cookies,http,$stateParams){function showErrMsg(errMsg){_cwDialog.dialog.openDialog({type:"warning",title:"提示",content:errMsg})}var getPaper=function(){var _ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,_context2.next=3,http.get("GetPaper",{currentPage:vm.currentPage,pageItems:vm.pageItems});case 3:vm.papers=_context2.sent,vm.papers.forEach(function(item){item.createTime=new Date(item.createTime.time)}),0!==vm.papers.length&&(vm.totalItems=vm.papers[0].count),_context2.next=11;break;case 8:_context2.prev=8,_context2.t0=_context2.catch(0),showErrMsg("获取试卷信息异常");case 11:case"end":return _context2.stop()}},_callee2,this,[[0,8]])}));return function(){return _ref2.apply(this,arguments)}}(),showConfrimMsg=function(){var _ref6=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee6(confirmMsg){return _regenerator2.default.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.next=2,_cwDialog.dialog.openDialog({type:"normal",title:"操作提示",content:confirmMsg});case 2:return _context6.abrupt("return",_context6.sent);case 3:case"end":return _context6.stop()}},_callee6,this)}));return function(_x4){return _ref6.apply(this,arguments)}}(),vm=this;vm.papers=[],vm.msg="",vm.paperLink=null,vm.isDownload=!1,vm.currentPage=1,vm.pageItems=8,vm.maxSize=5,vm.totalItems=0,vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:null!=$stateParams.currentPage&&(vm.currentPage=$stateParams.currentPage,vm.pageItems=$stateParams.pageItems,vm.totalItems=$stateParams.totalItems),getPaper();case 2:case"end":return _context.stop()}},_callee,this)})),vm.pageChanged=function(){getPaper()},vm.publishPaper=function(){var _ref3=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(paper){var result;return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.prev=0,_context3.next=3,http.get("PublishPaper",{paperID:paper.testpaperID});case 3:result=_context3.sent,!0===result?(showErrMsg("发布试卷成功"),getPaper()):showErrMsg("发布试卷失败"),_context3.next=10;break;case 7:_context3.prev=7,_context3.t0=_context3.catch(0),showErrMsg("发布试卷失败");case 10:case"end":return _context3.stop()}},_callee3,this,[[0,7]])}));return function(_x){return _ref3.apply(this,arguments)}}(),vm.deletePaper=function(){var _ref4=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee4(paperId){var confirm,result;return _regenerator2.default.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,showConfrimMsg("是否删除该试卷?");case 2:if("确定"!==(confirm=_context4.sent)){_context4.next=8;break}return _context4.next=6,http.get("DeletePaper",{paperID:paperId});case 6:result=_context4.sent,!0===result?(showErrMsg("试卷删除成功"),getPaper()):showErrMsg("删除失败");case 8:case"end":return _context4.stop()}},_callee4,this)}));return function(_x2){return _ref4.apply(this,arguments)}}(),vm.downloadPaper=function(){var _ref5=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee5(paperId){var result,confirm,downLink,event;return _regenerator2.default.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,http.get("DownLoadPaper",{paperID:paperId});case 2:return result=_context5.sent,vm.paperLink=result,_context5.next=6,showConfrimMsg("试卷生成成功，文件路径如下：\n"+vm.paperLink+"\n");case 6:confirm=_context5.sent,"确定"===confirm&&(downLink=document.getElementById("download_paper"),event=document.createEvent("MouseEvents"),event.initEvent("click",!1,!1),downLink.dispatchEvent(event));case 8:case"end":return _context5.stop()}},_callee5,this)}));return function(_x3){return _ref5.apply(this,arguments)}}()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var _cwDialog=(__webpack_require__(0),__webpack_require__(3)),name=exports.name="publishPaper"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/registerStudent/registerStudent.html",controller:["$scope","$element","$state","$cookies","http","$httpParamSerializerJQLike",controller]})}function controller($scope,$element,$state,$cookies,http,$httpParamSerializerJQLike){function check(){return vm.userInfo.school_number&&""!==vm.userInfo.school_number.trim()?(vm.userInfo.school_number=vm.userInfo.school_number.trim(),vm.userInfo.realName&&""!==vm.userInfo.realName.trim()?(vm.userInfo.realName=vm.userInfo.realName.trim(),vm.userInfo.password&&""!==vm.userInfo.password.trim()?(vm.userInfo.password=vm.userInfo.password.trim(),vm.userInfo.rePassword!==vm.userInfo.password?(showErrMsg("两次输入密码不一致"),!1):vm.userInfo.school&&""!==vm.userInfo.school.trim()?(vm.userInfo.school=vm.userInfo.school.trim(),vm.userInfo.telephone&&""!==vm.userInfo.telephone.trim()?(vm.userInfo.telephone=vm.userInfo.telephone.trim(),!0):(showErrMsg("手机号不能为空"),!1)):(showErrMsg("学校不能为空"),!1)):(showErrMsg("密码不能为空"),!1)):(showErrMsg("真实姓名不能为空"),!1)):(showErrMsg("用户名不能为空"),!1)}function showErrMsg(errMsg){_cwDialog.dialog.openDialog({type:"warning",title:"提示",content:errMsg})}var studentRegister=function(){var _ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){var result;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,_context2.next=3,http.post("StudentRegister",$httpParamSerializerJQLike({school_number:vm.userInfo.school_number,realName:vm.userInfo.realName,password:vm.userInfo.password,school:vm.userInfo.school,telephone:vm.telephone}),{"Content-Type":"application/x-www-form-urlencoded"});case 3:result=_context2.sent,!0===result&&$state.go("login"),_context2.next=10;break;case 7:_context2.prev=7,_context2.t0=_context2.catch(0),showErrMsg("注册失败");case 10:case"end":return _context2.stop()}},_callee2,this,[[0,7]])}));return function(){return _ref2.apply(this,arguments)}}(),vm=this;vm.userInfo={school_number:"",realName:"",password:"",rePassword:"",school:"",telephone:""},vm.register=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){var userResult;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!1!==check()){_context.next=2;break}return _context.abrupt("return");case 2:return userResult=null,_context.prev=3,_context.next=6,http.get("GetUserInfoByName",{user_number:vm.userInfo.school_number,type:0});case 6:if(null!==(userResult=_context.sent)){_context.next=10;break}return showErrMsg("您不是本校学生，无法注册"),_context.abrupt("return");case 10:if(userResult.realName===vm.userInfo.realName){_context.next=13;break}return showErrMsg("请检查您的真实姓名是否正确"),_context.abrupt("return");case 13:if(""===userResult.password){_context.next=18;break}return showErrMsg("您已注册，请登录"),_context.abrupt("return");case 18:studentRegister();case 19:_context.next=24;break;case 21:_context.prev=21,_context.t0=_context.catch(3),showErrMsg("注册失败");case 24:case"end":return _context.stop()}},_callee,this,[[3,21]])}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var _cwDialog=(__webpack_require__(0),__webpack_require__(3)),name=exports.name="registerStudent"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/registerTeacher/registerTeacher.html",controller:["$scope","$element","$state","$cookies","http","$httpParamSerializerJQLike",controller]})}function controller($scope,$element,$state,$cookies,http,$httpParamSerializerJQLike){function checkRegister(){return vm.userInfo.teacher_number?(vm.userInfo.teacher_number=vm.userInfo.teacher_number.trim(),""===vm.userInfo.teacher_number?(showErrMsg("请输入用户名"),!1):vm.userInfo.realName?(vm.userInfo.realName=vm.userInfo.realName.trim(),""===vm.userInfo.realName?(showErrMsg("请输入真实姓名"),!1):vm.userInfo.password?(vm.userInfo.password=vm.userInfo.password.trim(),""===vm.userInfo.password?(showErrMsg("请输入密码"),!1):vm.userInfo.password===vm.userInfo.rePassword||(showErrMsg("两次输入密码不一致"),!1)):(showErrMsg("请输入密码"),!1)):(showErrMsg("请输入真实姓名"),!1)):(showErrMsg("请输入用户名"),!1)}function showErrMsg(errMsg){_cwDialog.dialog.openDialog({type:"warning",title:"提示",content:errMsg})}var register=function(){var _ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){var result;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,_context2.next=3,http.post("TeacherRegister",$httpParamSerializerJQLike({teacher_number:vm.userInfo.teacher_number,realName:vm.userInfo.realName,password:vm.userInfo.password}),{"Content-Type":"application/x-www-form-urlencoded"});case 3:result=_context2.sent,!0===result&&$state.go("login"),_context2.next=10;break;case 7:_context2.prev=7,_context2.t0=_context2.catch(0),showErrMsg("注册失败");case 10:case"end":return _context2.stop()}},_callee2,this,[[0,7]])}));return function(){return _ref2.apply(this,arguments)}}(),vm=this;vm.userInfo={teacher_number:"",realName:"",password:"",rePassword:""},vm.register=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){var userResult;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!1!==checkRegister()){_context.next=2;break}return _context.abrupt("return");case 2:return userResult=null,_context.prev=3,_context.next=6,http.get("GetUserInfoByName",{user_number:vm.userInfo.teacher_number,type:1});case 6:if(null!==(userResult=_context.sent)){_context.next=10;break}return showErrMsg("您不是本校教师，无法注册"),_context.abrupt("return");case 10:if(userResult.realName===vm.userInfo.realName){_context.next=13;break}return showErrMsg("请检查您的真实姓名是否正确"),_context.abrupt("return");case 13:if(""===userResult.password){_context.next=16;break}return showErrMsg("您已注册，请登录"),_context.abrupt("return");case 16:register(),_context.next=22;break;case 19:_context.prev=19,_context.t0=_context.catch(3),showErrMsg("注册时发生异常");case 22:case"end":return _context.stop()}},_callee,this,[[3,19]])}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var _cwDialog=(__webpack_require__(0),__webpack_require__(3)),name=exports.name="registerTeacher"},function(module,exports,__webpack_require__){"use strict";function root(app){app.component(name,{templateUrl:"./component/root/root.html",controller:["$scope","$rootScope","$element","$state","$transitions",controller]})}function controller($scope,$rootScope,$element,$state,$transitions){this.$onInit=function(){$transitions.onBefore({to:"*.*"},function(trans){console.log(trans);var from=trans.from();return trans.to(),from.name,!0})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0,exports.default=root;var name=(__webpack_require__(0),exports.name="root")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/studentCenter/studentCenter.html",controller:["$scope","$element","$state","$cookies","http",controller]})}function controller($scope,$element,$state,$cookies,http){function showErrMsg(errMsg){_cwDialog.dialog.openDialog({type:"warning",title:"提示",content:errMsg})}var vm=this;vm.userinfo={school_number:"",realName:"",password:"",school:"",telephone:"",studentID:""},vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){var user,userinfo,classes,_this=this;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,user=$cookies.getObject("userInfo"),_context2.next=4,http.get("GetUserInfoByName",{user_number:user.school_number,type:user.type});case 4:return userinfo=_context2.sent,vm.userinfo=userinfo,_context2.next=8,http.get("GetAllSubject");case 8:classes=_context2.sent,vm.classes=classes,vm.classes.forEach(function(){var _ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(item){var result;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,http.get("GetClassNameByClassId",{classID:item.classId});case 2:result=_context.sent,null!=result&&(item.className=result.className);case 4:case"end":return _context.stop()}},_callee,_this)}));return function(_x){return _ref2.apply(this,arguments)}}()),_context2.next=16;break;case 13:_context2.prev=13,_context2.t0=_context2.catch(0),showErrMsg("加载个人信息异常");case 16:case"end":return _context2.stop()}},_callee2,this,[[0,13]])})),vm.updateinfo=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(){var data,result;return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.prev=0,data={school_number:vm.userinfo.school_number,realName:vm.userinfo.realName,password:vm.userinfo.password,school:vm.userinfo.school,telephone:vm.userinfo.telephone,studentID:vm.userinfo.userID},_context3.next=4,http.post("UpdateStudent",data);case 4:result=_context3.sent,showErrMsg(1==result?"修改成功":"修改失败"),_context3.next=11;break;case 8:_context3.prev=8,_context3.t0=_context3.catch(0),showErrMsg("修改失败");case 11:case"end":return _context3.stop()}},_callee3,this,[[0,8]])}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var _cwDialog=(__webpack_require__(0),__webpack_require__(3)),name=exports.name="studentCenter"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/studentHomeworkDetail/studentHomeworkDetail.html",controller:["$scope","$element","$state","$cookies","http","$stateParams",controller]})}function controller($scope,$element,$state,$cookies,http,$stateParams){function showErrMsg(errMsg){_cwDialog.dialog.openDialog({type:"warning",title:"提示",content:errMsg})}var vm=this,index=0;vm.currIndex=0,vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,vm.homework={homeWorkName:$stateParams.homeWorkName,homeId:$stateParams.homeworkId},_context.next=4,http.get("GetHomeworkDetail",{homeworkID:vm.homework.homeId});case 4:vm.homeDetail=_context.sent,vm.curr=vm.homeDetail[index],_context.next=11;break;case 8:_context.prev=8,_context.t0=_context.catch(0),showErrMsg("初始化页面异常");case 11:case"end":return _context.stop()}},_callee,this,[[0,8]])})),vm.upOrNext=function(type){"up"===type?(--index,index=index>=0?index:0):(++index,index=index<vm.homeDetail.length?index:--index),vm.curr=vm.homeDetail[index],vm.currIndex=index},vm.submit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){var data,result;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return data={homeworkID:vm.homework.homeId,evaluation:"",homeworkResult:[]},vm.homeDetail.forEach(function(item){data.homeworkResult.push({questionID:item.itemId,answer:item.studentAnswer})}),_context2.prev=2,_context2.next=5,http.post("SubmitHomework",data);case 5:result=_context2.sent,!0===result?(showErrMsg("提交作业成功"),$state.go("student.homework")):showErrMsg("提交作业失败"),_context2.next=12;break;case 9:_context2.prev=9,_context2.t0=_context2.catch(2),showErrMsg("提交作业失败");case 12:case"end":return _context2.stop()}},_callee2,this,[[2,9]])}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var _cwDialog=(__webpack_require__(0),__webpack_require__(3)),name=exports.name="studentHomeworkDetail"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/studentHomeworkList/studentHomeworkList.html",controller:["$scope","$element","$state","$cookies","http","$stateParams",controller]})}function controller($scope,$element,$state,$cookies,http,$stateParams){function showErrMsg(errMsg){_cwDialog.dialog.openDialog({type:"warning",title:"提示",content:errMsg})}var vm=this;vm.msg="",vm.subject=null,vm.homeworkListUnFinish=[],vm.homeworkListFinish=[],vm.displayHomeworkList=[],vm.showFlag=!0,$scope.className1=!0,$scope.className2=!1,vm.isShowUnfinish=!0,vm.isShowFinish=!1,vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,vm.subject={SubjectName:$stateParams.SubjectName,SubjectID:$stateParams.SubjectID},_context.next=4,http.get("GetHomework",{subjectId:vm.subject.SubjectID});case 4:return vm.homeworkList=_context.sent,_context.next=7,http.get("GetHomeworkResult");case 7:vm.homeworkResults=_context.sent,vm.homeworkList.forEach(function(homework){homework.finishTime=new Date(homework.finishTime.time),vm.homeworkResults.find(function(result){return homework.homeId===result.homework.homeworkId})?vm.homeworkListFinish.push(homework):vm.homeworkListUnFinish.push(homework)}),vm.displayHomeworkList=vm.homeworkListUnFinish,_context.next=15;break;case 12:_context.prev=12,_context.t0=_context.catch(0),showErrMsg("初始化页面异常");case 15:case"end":return _context.stop()}},_callee,this,[[0,12]])})),vm.changeHomeworkType=function(flag){vm.showFlag=flag,vm.displayHomeworkList=flag?vm.homeworkListUnFinish:vm.homeworkListFinish},vm.goToAnswered=function(){vm.isShowUnfinish=!1,vm.isShowFinish=!0,$scope.className1=!1,$scope.className2=!0},vm.goNoAnswered=function(){vm.isShowUnfinish=!0,vm.isShowFinish=!1,$scope.className1=!0,$scope.className2=!1}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var _cwDialog=(__webpack_require__(0),__webpack_require__(3)),name=exports.name="studentHomeworkList"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/studentHomeworkResultDetail/studentHomeworkResultDetail.html",controller:["$scope","$element","$state","$cookies","http","$stateParams",controller]})}function controller($scope,$element,$state,$cookies,http,$stateParams){function showErrMsg(errMsg){_cwDialog.dialog.openDialog({type:"warning",title:"提示",content:errMsg})}var vm=this;vm.msg="",vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,vm.subject={SubjectName:$stateParams.SubjectName,SubjectID:$stateParams.SubjectID},vm.homework={homeId:parseInt($stateParams.homeworkId)},_context.next=5,http.get("GetHomeworkResult");case 5:return vm.homeworkResults=_context.sent,vm.homeworkResult=vm.homeworkResults.find(function(item){return item.homework.homeworkId===vm.homework.homeId}),_context.next=9,http.get("GetHomeworkResultDetail",{homeworkResultID:vm.homeworkResult.homework.id});case 9:vm.homeworkResultDetail=_context.sent,_context.next=15;break;case 12:_context.prev=12,_context.t0=_context.catch(0),showErrMsg("获取学生作业结果详情异常");case 15:case"end":return _context.stop()}},_callee,this,[[0,12]])}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var _cwDialog=(__webpack_require__(0),__webpack_require__(3)),name=exports.name="studentHomeworkResultDetail"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/studentHomework/studentHomework.html",controller:["$scope","$element","$state","$cookies","http","$stateParams",controller]})}function controller($scope,$element,$state,$cookies,http,$stateParams){function showErrMsg(errMsg){_cwDialog.dialog.openDialog({type:"warning",title:"提示",content:errMsg})}var vm=this;vm.msg="",vm.subjects=[],vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){var result,i,flag,j;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,http.get("GetAllSubject");case 3:vm.subjects=_context.sent,result=[],i=0;case 6:if(!(i<vm.subjects.length)){_context.next=20;break}flag=0,j=0;case 9:if(!(j<result.length)){_context.next=16;break}if(result[j].SubjectID!==vm.subjects[i].SubjectID){_context.next=13;break}return flag=1,_context.abrupt("break",16);case 13:j++,_context.next=9;break;case 16:0===flag&&result.push(vm.subjects[i]);case 17:i++,_context.next=6;break;case 20:vm.subjects=result,_context.next=26;break;case 23:_context.prev=23,_context.t0=_context.catch(0),showErrMsg("初始化页面异常");case 26:case"end":return _context.stop()}},_callee,this,[[0,23]])}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var _cwDialog=(__webpack_require__(0),__webpack_require__(3)),name=exports.name="studentHomework"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/studentOnlineAnswerDetail/studentOnlineAnswerDetail.html",controller:["$scope","$cookies","$element","$state","http","$stateParams",controller]})}function controller($scope,$cookies,$element,$state,http,$stateParams){function init(){vm.onlineQuesionsDetail=$stateParams.onlineQuestionsDetail,vm.currentClass=$stateParams.currentClass,vm.isHistroy=$stateParams.isHistroy,vm.currentPage=$stateParams.currentPage,vm.pageItems=$stateParams.pageItems,vm.totalItems=$stateParams.totalItems,vm.userinfo=$cookies.getObject("userInfo"),vm.userinfoId=parseInt("10",vm.userinfo.id),getQuestionReply(),setTimeout(function(){findImgInput().eq(0).bind("change",onSelectImg)},0)}function findImgInput(){return angular.element(document.getElementsByClassName("js_product_imgs"))}function onSelectImg(event){for(var parentElement=event.target.parentNode,img=null,i=0;i<parentElement.children.length;i++)"IMG"===parentElement.children[i].nodeName&&(img=parentElement.children[i]);var files=event.target.files;if(0===files.length)return void(img.src="");var file=files[0],reader=new FileReader;reader.onload=function(e){img.src=e.target.result},reader.readAsDataURL(file)}function showErrMsg(errMsg){_cwDialog.dialog.openDialog({type:"warning",title:"提示",content:errMsg})}var reply=function(){var _ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){var content,userInfo,data,result;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(null!==(content=vm.answerContent)&&""!==content&&void 0!==content){_context2.next=4;break}return showErrMsg("请输入内容"),_context2.abrupt("return");case 4:return userInfo=$cookies.getObject("userInfo"),data={answer:vm.answerContent,questionID:$stateParams.onlineQuestionsDetail.id,img:vm.imgUrl,answerID:userInfo.id,type:userInfo.type},vm.isShow=!0,_context2.next=9,http.post("ReplyStudentQuestion",data);case 9:result=_context2.sent,!0===result?(showErrMsg("回复成功"),vm.isShow=!1,getQuestionReply()):showErrMsg("回复失败");case 11:case"end":return _context2.stop()}},_callee2,this)}));return function(){return _ref2.apply(this,arguments)}}(),getQuestionReply=function(){var _ref3=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee4(){var result,_this=this;return _regenerator2.default.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.prev=0,_context4.next=3,http.get("getQuestionAnswer",{questionID:vm.onlineQuesionsDetail.id,currentPage:vm.currentReplyPage,pageItems:vm.replyPageItem});case 3:result=_context4.sent,vm.replyList=result,0!==result.length&&(vm.totalReplyItems=result[0].count),vm.replyList.forEach(function(){var _ref4=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(item){var studentInfo,teacherInfo;return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(item.answerTime=new Date(item.answerTime.time),0!==item.type){_context3.next=8;break}return _context3.next=4,http.get("GetStudents",{userID:item.answerId});case 4:studentInfo=_context3.sent,0!==studentInfo.length&&(item.realName=studentInfo[0].realName),_context3.next=12;break;case 8:return _context3.next=10,http.get("GetTeachers",{userID:item.answerId});case 10:teacherInfo=_context3.sent,0!==teacherInfo.length&&(item.realName=teacherInfo[0].realName);case 12:case"end":return _context3.stop()}},_callee3,_this)}));return function(_x){return _ref4.apply(this,arguments)}}()),_context4.next=13;break;case 9:return _context4.prev=9,_context4.t0=_context4.catch(0),showErrMsg("获取回复失败"),_context4.abrupt("return");case 13:case"end":return _context4.stop()}},_callee4,this,[[0,9]])}));return function(){return _ref3.apply(this,arguments)}}(),showConfrimMsg=function(){var _ref6=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee6(confirmMsg){return _regenerator2.default.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.next=2,_cwDialog.dialog.openDialog({type:"normal",title:"操作提示",content:confirmMsg});case 2:return _context6.abrupt("return",_context6.sent);case 3:case"end":return _context6.stop()}},_callee6,this)}));return function(_x4){return _ref6.apply(this,arguments)}}(),vm=this;vm.$onInit=init,vm.isShow=!1,vm.replyList=null,vm.onlineQuesionsDetail=null,vm.currentClass=null,vm.isHistroy=null,vm.imgUrl=null,vm.userinfo=null,vm.currentReplyPage=1,vm.replyPageItem=7,vm.totalReplyItems=0,vm.pageChanged=function(){getQuestionReply()},vm.reply=function(){vm.isShow=!0,vm.msg=""},vm.sure=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){var imgs,file,i,formData,imgResult;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:for(imgs=[],imgs=findImgInput(),file=[],i=0;i<imgs.length;i++)void 0!==imgs[i].files[0]&&file.push(imgs[i].files[0]);for(formData=new FormData,i=0;i<file.length;i++)formData.append("img"+i,file[i]);if(_context.prev=6,0==file.length){_context.next=12;break}return _context.next=10,http.submitForm("UploadImage",formData);case 10:imgResult=_context.sent,vm.imgUrl=imgResult;case 12:reply(),_context.next=19;break;case 15:_context.prev=15,_context.t0=_context.catch(6),console.log(_context.t0),showErrMsg("上传图片失败");case 19:case"end":return _context.stop()}},_callee,this,[[6,15]])})),vm.goToImgUrl=function(img){window.open(img)},vm.previousPage=function(){!0===vm.isHistroy?$state.go("student.studentQuestionHistory",{currentPage:vm.currentPage,pageItems:vm.pageItems,totalItems:vm.totalItems}):$state.go("student.onlineQuestion",{currentClass:vm.currentClass,currentPage:vm.currentPage,pageItems:vm.pageItems,totalItems:vm.totalItems})},vm.deleleReply=function(){var _ref5=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee5(replyId,answerId){var comfirm,result;return _regenerator2.default.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:if(parseInt("10",vm.userinfo.id)!==answerId){_context5.next=9;break}return _context5.next=3,showConfrimMsg("是否删除此条回复?");case 3:if("确定"!==(comfirm=_context5.sent)){_context5.next=9;break}return _context5.next=7,http.get("DeleteReply",{ReplyID:replyId});case 7:result=_context5.sent,!0===result?getQuestionReply():showErrMsg("删除失败");case 9:case"end":return _context5.stop()}},_callee5,this)}));return function(_x2,_x3){return _ref5.apply(this,arguments)}}()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var _cwDialog=(__webpack_require__(0),__webpack_require__(3)),name=exports.name="studentOnlineAnswerDetail"},function(module,exports,__webpack_require__){"use strict";function root(app){app.component(name,{templateUrl:"./component/studentOnlineNavigation/studentOnlineNavigation.html",controller:["$scope","$element","$state","$cookies","http",controller]})}function controller($scope,$element,$state,$cookies,http){}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0,exports.default=root;var name=(__webpack_require__(0),exports.name="studentOnlineNavigation")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/studentPostQuestion/studentPostQuestion.html",controller:["$scope","$element","$state","$cookies","http",controller]})}function controller($scope,$element,$state,$cookies,http){function checkQuestion(){try{return vm.title=vm.title.trim(),vm.content=vm.content.trim(),""===vm.title?(showErrMsg("请输入标题"),!1):vm.title.length<5?(showErrMsg("标题不能少于五个字"),!1):""===vm.content?(showErrMsg("请输入内容"),!1):!(vm.content.length<5)||(showErrMsg("内容不能少于五个字"),!1)}catch(error){return showErrMsg("数据检查异常"),!1}}function dataGroup(data){var groupList=[];return data.forEach(function(item){var findGroup=groupList.find(function(group){return item.SubjectID===group.SubjectID});findGroup||(findGroup={SubjectID:item.SubjectID,SubjectName:item.SubjectName,teacherList:[]},groupList.push(findGroup)),findGroup.teacherList.push({teacherId:item.teacherId,teacherName:item.realName})}),groupList}function findImgInput(){return angular.element(document.getElementsByClassName("js_product_imgs"))}function onSelectImg(event){for(var parentElement=event.target.parentNode,img=null,i=0;i<parentElement.children.length;i++)"IMG"===parentElement.children[i].nodeName&&(img=parentElement.children[i]);var files=event.target.files;if(0===files.length)return void(img.src="");var file=files[0],reader=new FileReader;reader.onload=function(e){img.src=e.target.result},reader.readAsDataURL(file)}function showErrMsg(errMsg){_cwDialog.dialog.openDialog({type:"warning",title:"提示",content:errMsg})}var init=function(){var _ref=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){var userInfo,subjectTeacherData;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return userInfo=$cookies.getObject("userInfo"),_context.next=3,http.get("GetAllSubject");case 3:subjectTeacherData=_context.sent,vm.subjectList=dataGroup(subjectTeacherData),0!==vm.subjectList.length&&(vm.currSubject=vm.subjectList[0],vm.currSubjectId=vm.currSubject.SubjectID,vm.currTeacher=vm.currSubject.teacherList[0]),$scope.$watch("$ctrl.currSubject",function(){vm.currSubject=vm.subjectList.find(function(item){return item.SubjectID===vm.currSubject.SubjectID}),null!=vm.currSubject&&(vm.currTeacher=vm.currSubject.teacherList[0])}),setTimeout(function(){findImgInput().eq(0).bind("change",onSelectImg)},0);case 8:case"end":return _context.stop()}},_callee,this)}));return function(){return _ref.apply(this,arguments)}}(),postQuestions=function(){var _ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){var userInfo,question,result;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(!1!==checkQuestion()){_context2.next=2;break}return _context2.abrupt("return");case 2:return userInfo=$cookies.getObject("userInfo"),question={title:vm.title,content:vm.content,img:vm.imgUrl,studentId:userInfo.id,teacherID:vm.currTeacher.teacherId,subjectID:vm.currSubjectId},_context2.prev=4,_context2.next=7,http.post("PostStudentQuestion",question);case 7:result=_context2.sent,showErrMsg("提交成功"),$state.go("student.studentQuestionHistory"),_context2.next=15;break;case 12:_context2.prev=12,_context2.t0=_context2.catch(4),showErrMsg("提交问题失败");case 15:case"end":return _context2.stop()}},_callee2,this,[[4,12]])}));return function(){return _ref2.apply(this,arguments)}}(),vm=this;vm.$onInit=init,vm.title="",vm.content="",vm.subjectList=[],vm.currSubject=null,vm.currSubjectId=null,vm.currTeacher=null,vm.imgUrl=null,vm.postQuestion=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(){var imgs,file,i,formData,imgResult;return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:for(imgs=[],imgs=findImgInput(),file=[],i=0;i<imgs.length;i++)void 0!==imgs[i].files[0]&&file.push(imgs[i].files[0]);for(formData=new FormData,i=0;i<file.length;i++)formData.append("img"+i,file[i]);if(_context3.prev=6,0==file.length){_context3.next=12;break}return _context3.next=10,http.submitForm("UploadImage",formData);case 10:imgResult=_context3.sent,vm.imgUrl=imgResult;case 12:postQuestions(),_context3.next=19;break;case 15:_context3.prev=15,_context3.t0=_context3.catch(6),console.log(_context3.t0),showErrMsg("上传图片失败");case 19:case"end":return _context3.stop()}},_callee3,this,[[6,15]])}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var _cwDialog=(__webpack_require__(0),__webpack_require__(3)),name=exports.name="studentPostQuestion"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/studentQuestionHistory/studentQuestionHistory.html",controller:["$scope","$element","$state","$cookies","http","$stateParams",controller]})}function controller($scope,$element,$state,$cookies,http,$stateParams){function showErrMsg(errMsg){_cwDialog.dialog.openDialog({type:"warning",title:"提示",content:errMsg})}var getTeacherQuestion=function(){var _ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(){var result,_this=this;return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.prev=0,_context3.next=3,http.get("GetStudentQuestion",{currentPage:vm.currentPage,pageItems:vm.pageItems});case 3:result=_context3.sent,0!==result.length&&(vm.totalItems=result[0].count),vm.questionsList=result,0!==result.length&&(vm.totalItems=result[0].count),vm.questionsList.forEach(function(){var _ref3=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(item){var studentInfo;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return item.createTime=new Date(item.createTime.time),_context2.next=3,http.get("GetStudents",{userID:item.studentId});case 3:studentInfo=_context2.sent,0!==studentInfo.length&&(item.studentName=studentInfo[0].realName);case 5:case"end":return _context2.stop()}},_callee2,_this)}));return function(_x){return _ref3.apply(this,arguments)}}()),_context3.next=13;break;case 10:_context3.prev=10,_context3.t0=_context3.catch(0),showErrMsg("获取历史数据失败");case 13:case"end":return _context3.stop()}},_callee3,this,[[0,10]])}));return function(){return _ref2.apply(this,arguments)}}(),vm=this;vm.questionsList=null,vm.currentPage=1,vm.pageItems=8,vm.maxSize=5,vm.totalItems=0,vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:null!==$stateParams.currentPage&&(vm.currentPage=$stateParams.currentPage,vm.pageItems=$stateParams.pageItems,vm.totalItems=$stateParams.totalItems),getTeacherQuestion();case 2:case"end":return _context.stop()}},_callee,this)})),vm.pageChanged=function(){getTeacherQuestion()}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var _cwDialog=(__webpack_require__(0),__webpack_require__(3)),name=exports.name="studentQuestionHistory"},function(module,exports,__webpack_require__){"use strict";function root(app){app.component(name,{templateUrl:"./component/studentSidebar/studentSidebar.html",controller:["$scope","$rootScope","$element","$state","$cookies","$transitions","http",controller]})}function controller($scope,$rootScope,$element,$state,$cookies,$transitions,http){var vm=this,topRouter=[{name:"在线测试",url:"student.test"},{name:"作业",url:"student.homework"},{name:"答疑",url:"student.postQuestion"},{name:"个人中心",url:"student.center"}];vm.$onInit=function(){vm.routers=topRouter}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0,exports.default=root;var name=(__webpack_require__(0),exports.name="studentSidebar")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/studentTestPaperList/studentTestPaperList.html",controller:["$scope","$element","$state","$cookies","http","$stateParams",controller]})}function controller($scope,$element,$state,$cookies,http,$stateParams){function showErrMsg(errMsg){_cwDialog.dialog.openDialog({type:"warning",title:"提示",content:errMsg})}var getPaper=function(){var _ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){var result,i,flag,j,paperResult;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,http.get("GetPaper",{subjectId:vm.subject.SubjectID});case 2:vm.papers=_context2.sent,result=[],i=0;case 5:if(!(i<vm.papers.length)){_context2.next=20;break}flag=0,j=0;case 8:if(!(j<result.length)){_context2.next=15;break}if(result[j].testpaperID!==vm.papers[i].testpaperID){_context2.next=12;break}return flag=1,_context2.abrupt("break",15);case 12:j++,_context2.next=8;break;case 15:0===flag&&result.push(vm.papers[i]),console.log(result);case 17:i++,_context2.next=5;break;case 20:return vm.papers=result,vm.papers.forEach(function(paper){paper.createTime=new Date(paper.createTime.time)}),_context2.next=24,http.get("GetPaperResult");case 24:paperResult=_context2.sent,vm.papers.forEach(function(paper){void 0!==paperResult.find(function(result){if(result.paper.paperId===paper.testpaperID)return paper.resultObj=result,!0})?vm.paperFinish.push(paper):vm.paperUnfinish.push(paper)}),vm.displayPaper=vm.paperUnfinish;case 27:case"end":return _context2.stop()}},_callee2,this)}));return function(){return _ref2.apply(this,arguments)}}(),showConfrimMsg=function(){var _ref4=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee4(confirmMsg){return _regenerator2.default.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,_cwDialog.dialog.openDialog({type:"normal",title:"操作提示",content:confirmMsg});case 2:return _context4.abrupt("return",_context4.sent);case 3:case"end":return _context4.stop()}},_callee4,this)}));return function(_x2){return _ref4.apply(this,arguments)}}(),vm=this;vm.msg="",vm.subject=null,vm.paperUnfinish=[],vm.paperFinish=[],vm.displayPaper=[],vm.showFlag=!0,vm.isShowUnfinish=!0,vm.isShowFinish=!1,$scope.className1=!0,$scope.className2=!1,vm.paperLink=null,vm.isDownload=!1,vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){var rs;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return vm.subject={SubjectName:$stateParams.SubjectName,SubjectID:$stateParams.SubjectID,teacherID:$stateParams.teacherID},_context.prev=1,_context.next=4,getPaper();case 4:rs=_context.sent,_context.next=10;break;case 7:_context.prev=7,_context.t0=_context.catch(1),showErrMsg("初始化页面异常");case 10:case"end":return _context.stop()}},_callee,this,[[1,7]])})),vm.changePaperType=function(flag){vm.showFlag=flag,vm.displayPaper=flag?vm.paperUnfinish:vm.paperFinish},vm.goToAnswered=function(){vm.isShowUnfinish=!1,vm.isShowFinish=!0,$scope.className1=!1,$scope.className2=!0},vm.goNoAnswered=function(){vm.isShowUnfinish=!0,vm.isShowFinish=!1,$scope.className1=!0,$scope.className2=!1},vm.downloadPaper=function(){var _ref3=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(paperId){var result,confirm,downLink,event;return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,http.get("DownLoadPaper",{paperID:paperId});case 2:return result=_context3.sent,vm.paperLink=result,_context3.next=6,showConfrimMsg("试卷生成成功，文件路径如下：\n"+vm.paperLink+"\n");case 6:confirm=_context3.sent,"确定"===confirm&&(downLink=document.getElementById("download_paper"),event=document.createEvent("MouseEvents"),event.initEvent("click",!1,!1),downLink.dispatchEvent(event));case 8:case"end":return _context3.stop()}},_callee3,this)}));return function(_x){return _ref3.apply(this,arguments)}}()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var _cwDialog=(__webpack_require__(0),__webpack_require__(3)),name=exports.name="studentTestPaperList"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/studentTestPaperResultDetail/studentTestPaperResultDetail.html",controller:["$scope","$element","$state","$cookies","$stateParams","http",controller]})}function controller($scope,$element,$state,$cookies,$stateParams,http){function showErrMsg(errMsg){_cwDialog.dialog.openDialog({type:"warning",title:"提示",content:errMsg})}var vm=this;vm.paper=null,vm.resultDetail=[],vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){var paperResultList;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,$stateParams.testpaperID=parseInt($stateParams.testpaperID),vm.subject={SubjectName:$stateParams.SubjectName,SubjectID:$stateParams.SubjectID,teacherID:$stateParams.teacherID},_context.next=5,http.get("GetPaperResult");case 5:return paperResultList=_context.sent,vm.paperResult=paperResultList.find(function(item){return item.paper.paperId===$stateParams.testpaperID}),vm.paperResult.paper.time=new Date(vm.paperResult.paper.time.time),_context.next=10,http.get("GetPaperResultDetail",{paperResultID:$stateParams.paperResultID});case 10:vm.resultDetail=_context.sent,_context.next=16;break;case 13:_context.prev=13,_context.t0=_context.catch(0),showErrMsg("初始化页面异常");case 16:case"end":return _context.stop()}},_callee,this,[[0,13]])}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var _cwDialog=(__webpack_require__(0),__webpack_require__(3)),name=exports.name="studentTestPaperResultDetail"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/studentTestPaper/studentTestPaper.html",controller:["$scope","$element","$state","$cookies","http","$stateParams",controller]})}function controller($scope,$element,$state,$cookies,http,$stateParams){function showErrMsg(errMsg){_cwDialog.dialog.openDialog({type:"warning",title:"提示",content:errMsg})}var vm=this;vm.msg="",vm.subject=null,vm.paper=null,vm.paperDetail=null,vm.questionIndex=0,vm.currQuestion=null,vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){var userInfo;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,userInfo=$cookies.getObject("userInfo"),vm.subject={SubjectName:$stateParams.SubjectName,SubjectID:$stateParams.SubjectID,teacherID:$stateParams.teacherID},vm.paper={testpaperID:$stateParams.testpaperID,testName:$stateParams.testName},_context.next=6,http.get("GetPaperDetail",{paperID:vm.paper.testpaperID});case 6:vm.paperDetail=_context.sent,vm.currQuestion=vm.paperDetail[0],_context.next=13;break;case 10:_context.prev=10,_context.t0=_context.catch(0),showErrMsg("初始化页面异常");case 13:case"end":return _context.stop()}},_callee,this,[[0,10]])})),vm.changeIndex=function(upOrDown){"up"===upOrDown?(--vm.questionIndex,vm.questionIndex=vm.questionIndex>=0?vm.questionIndex:0):++vm.questionIndex>=vm.paperDetail.length&&(vm.questionIndex-=1),vm.currQuestion=vm.paperDetail[vm.questionIndex]},vm.submitResult=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){var userInfo,result,correctAnswer,rs,correctPercent,infor;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,userInfo=$cookies.getObject("userInfo"),result={paperID:vm.paper.testpaperID,studentID:userInfo.id,score:0,paperresult:[]},correctAnswer=0,vm.paperDetail.forEach(function(item){var studentAnswer=item.studentAnswer;studentAnswer===item.answer&&(result.score+=item.score,correctAnswer+=1),result.paperresult.push({questionID:item.itemId,answer:studentAnswer||""})}),_context2.next=7,http.post("SubmitPaper",result);case 7:rs=_context2.sent,correctPercent=Math.round(correctAnswer/vm.paperDetail.length*100),infor="",correctPercent<20?infor="测试结果不妙，别灰心继续努力哦！":correctPercent<60?infor="革命尚未成功！":correctPercent<80?infor="还需更上一层楼！":correctPercent<90&&(infor="good！"),!0===rs?(showErrMsg("提交答案成功! \n正确率"+correctPercent+"% \n"+infor),$state.go("student.studentTestPaperList",{SubjectName:vm.subject.SubjectName,SubjectID:vm.subject.SubjectID,teacherID:vm.subject.teacherID})):showErrMsg("提交失败"),_context2.next=17;break;case 14:_context2.prev=14,_context2.t0=_context2.catch(0),showErrMsg("提交答案失败");case 17:case"end":return _context2.stop()}},_callee2,this,[[0,14]])})),vm.goBack=function(){_cwDialog.dialog.openDialog({type:"normal",title:"提示",content:"是否放弃作答?"}).then(function(btn){"确定"===btn&&$state.go("student.studentTestPaperList",{SubjectName:vm.subject.SubjectName,SubjectID:vm.subject.SubjectID,teacherID:vm.subject.teacherID})})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var _cwDialog=(__webpack_require__(0),__webpack_require__(3)),name=exports.name="studentTestPaper"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/studentTest/studentTest.html",controller:["$scope","$element","$state","$cookies","http","$stateParams",controller]})}function controller($scope,$element,$state,$cookies,http,$stateParams){var vm=this;vm.msg="",vm.subjects=[],vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){var result,i,flag,j;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,http.get("GetAllSubject");case 3:vm.subjects=_context.sent,result=[],i=0;case 6:if(!(i<vm.subjects.length)){_context.next=21;break}flag=0,j=0;case 9:if(!(j<result.length)){_context.next=16;break}if(result[j].SubjectID!==vm.subjects[i].SubjectID){_context.next=13;break}return flag=1,_context.abrupt("break",16);case 13:j++,_context.next=9;break;case 16:0===flag&&result.push(vm.subjects[i]),console.log(result);case 18:i++,_context.next=6;break;case 21:vm.subjects=result,_context.next=26;break;case 24:_context.prev=24,_context.t0=_context.catch(0);case 26:return _context.prev=26,$scope.$applyAsync(null),_context.finish(26);case 29:case"end":return _context.stop()}},_callee,this,[[0,24,26,29]])}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var name=(__webpack_require__(0),exports.name="studentTest")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/teacherAssignStudent/teacherAssignStudent.html",controller:["$scope","$element","$state","$cookies","http",controller]})}function controller($scope,$element,$state,$cookies,http){function showErrMsg(errMsg){_cwDialog.dialog.openDialog({type:"warning",title:"提示",content:errMsg})}var getStudents=function(){var _ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,vm.userInfo=$cookies.getObject("userInfo"),_context2.next=4,http.get("GetTeacherClasses");case 4:return vm.classes=_context2.sent,vm.classes.length>0&&(vm.currentClass=vm.classes[0]),_context2.next=8,http.get("GetStudents");case 8:result=_context2.sent,vm.students=result,_context2.next=15;break;case 12:_context2.prev=12,_context2.t0=_context2.catch(0),showErrMsg("加载数据异常");case 15:case"end":return _context2.stop()}},_callee2,this,[[0,12]])}));return function(){return _ref2.apply(this,arguments)}}(),vm=this;vm.msg="";var result=null;vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:getStudents();case 1:case"end":return _context.stop()}},_callee,this)})),vm.search=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(){var _result;return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(""!==vm.user_number&&void 0!==vm.user_number){_context3.next=4;break}getStudents(),_context3.next=9;break;case 4:return _context3.next=6,http.get("GetUserInfoByName",{user_number:vm.user_number,type:0});case 6:_result=_context3.sent,vm.students.splice(0,vm.students.length),vm.students.push(_result);case 9:case"end":return _context3.stop()}},_callee3,this)})),vm.toAssign=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee4(){var data,result,students;return _regenerator2.default.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return vm.msg="",data={classId:vm.currentClass.classes.classId,studentIds:[]},vm.students.forEach(function(student){!0===student.isCheck&&data.studentIds.push(student.userID)}),0===data.studentIds.length&&showErrMsg("您还未选择！"),_context4.next=6,http.post("AssignStudent",data);case 6:result=_context4.sent,!0===result?showErrMsg("分配班级成功"):!1===result?showErrMsg("分配班级失败"):(students=vm.students.find(function(item){return result.userID===item.userID}),showErrMsg(students.realName+"已加入该班级"));case 8:case"end":return _context4.stop()}},_callee4,this)}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var _cwDialog=(__webpack_require__(0),__webpack_require__(3)),name=exports.name="teacherAssignStudent"},function(module,exports,__webpack_require__){"use strict";function root(app){app.component(name,{templateUrl:"./component/teacherCenter/teacherCenter.html",controller:["$scope","$element","$state","$cookies","http",controller]})}function controller($scope,$element,$state,$cookies,http){var vm=this;vm.$onInit=function(){vm.userInfo=$cookies.getObject("userInfo")},vm.logout=function(){}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0,exports.default=root;var name=(__webpack_require__(0),exports.name="teacherCenter")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/teacherClassStudent/teacherClassStudent.html",controller:["$scope","$element","$state","$cookies","http","$stateParams",controller]})}function controller($scope,$element,$state,$cookies,http,$stateParams){function showErrMsg(errMsg){_cwDialog.dialog.openDialog({type:"warning",title:"提示",content:errMsg})}var showConfrimMsg=function(){var _ref3=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(confirmMsg){return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,_cwDialog.dialog.openDialog({type:"normal",title:"操作提示",content:confirmMsg});case 2:return _context3.abrupt("return",_context3.sent);case 3:case"end":return _context3.stop()}},_callee3,this)}));return function(_x2){return _ref3.apply(this,arguments)}}(),vm=this;vm.classStudent=null;var classId=null;vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return classId=$stateParams.classId,_context.prev=1,_context.next=4,http.get("GetAllClassStudent",{classId:classId});case 4:vm.classStudent=_context.sent,_context.next=10;break;case 7:_context.prev=7,_context.t0=_context.catch(1),showErrMsg("加载数据异常异常");case 10:case"end":return _context.stop()}},_callee,this,[[1,7]])})),vm.deleteStudent=function(){var _ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(userId){var confirm,result;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,showConfrimMsg("是否删除?");case 2:if("确定"!==(confirm=_context2.sent)){_context2.next=15;break}return _context2.next=6,http.get("updateStudentClass",{studentId:userId,classId:classId,typeId:0});case 6:if(!0!==(result=_context2.sent)){_context2.next=14;break}return showErrMsg("删除成功"),_context2.next=11,http.get("GetAllClassStudent",{classId:classId});case 11:vm.classStudent=_context2.sent,_context2.next=15;break;case 14:showErrMsg("删除失败");case 15:case"end":return _context2.stop()}},_callee2,this)}));return function(_x){return _ref2.apply(this,arguments)}}()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var _cwDialog=(__webpack_require__(0),__webpack_require__(3)),name=exports.name="teacherClassStudent"},function(module,exports,__webpack_require__){"use strict";function root(app){app.component(name,{templateUrl:"./component/teacherHomeworkNavigation/teacherHomeworkNavigation.html",controller:["$scope","$element","$state","$cookies","http",controller]})}function controller($scope,$element,$state,$cookies,http){this.$onInit=function(){}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0,exports.default=root;var name=(__webpack_require__(0),exports.name="teacherHomeworkNavigation")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/teacherHomeworkResultDetail/teacherHomeworkResultDetail.html",controller:["$scope","$element","$state","$cookies","http","$stateParams",controller]})}function controller($scope,$element,$state,$cookies,http,$stateParams){function showErrMsg(errMsg){_cwDialog.dialog.openDialog({type:"warning",title:"提示",content:errMsg})}var vm=this;vm.homework=null,vm.homeworkResultDetail=[],vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,vm.homework={homeworkID:$stateParams.homeworkId,homeWorkName:$stateParams.homeWorkName},_context.next=4,http.get("GetHomeworkResultDetail",{homeworkResultID:$stateParams.homeworkResultID});case 4:vm.homeworkResultDetail=_context.sent,_context.next=10;break;case 7:_context.prev=7,_context.t0=_context.catch(0),showErrMsg("获取学生作业结果详情异常");case 10:case"end":return _context.stop()}},_callee,this,[[0,7]])}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var _cwDialog=(__webpack_require__(0),__webpack_require__(3)),name=exports.name="teacherHomeworkResultDetail"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/teacherHomeworkResultList/teacherHomeworkResultList.html",controller:["$scope","$element","$state","$cookies","http","$stateParams",controller]})}function controller($scope,$element,$state,$cookies,http,$stateParams){function showErrMsg(errMsg){_cwDialog.dialog.openDialog({type:"warning",title:"提示",content:errMsg})}var vm=this;vm.homework=null,vm.homeworkResultList=[],vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,vm.homework={homeworkID:$stateParams.homeworkId,homeWorkName:$stateParams.homeWorkName},vm.currentPage=$stateParams.currentPage,vm.pageItems=$stateParams.pageItems,vm.totalItems=$stateParams.totalItems,_context.next=7,http.get("GetHomeworkResult",{homeworkID:vm.homework.homeworkID});case 7:vm.homeworkResultList=_context.sent,vm.homeworkResultList.forEach(function(item){item.homework.time=new Date(item.homework.time.time)}),_context.next=14;break;case 11:_context.prev=11,_context.t0=_context.catch(0),showErrMsg("获取学生作业情况列表数据异常");case 14:case"end":return _context.stop()}},_callee,this,[[0,11]])}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var _cwDialog=(__webpack_require__(0),__webpack_require__(3)),name=exports.name="teacherHomeworkResultList"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/teacherManagerClassCreate/teacherManagerClassCreate.html",controller:["$scope","$element","$state","$cookies","http",controller]})}function controller($scope,$element,$state,$cookies,http){function showErrMsg(errMsg){_cwDialog.dialog.openDialog({type:"warning",title:"提示",content:errMsg})}function checkClass(className){return null!==className&&void 0!==className&&""!==className}var showConfrimMsg=function(){var _ref4=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee4(confirmMsg){return _regenerator2.default.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,_cwDialog.dialog.openDialog({type:"normal",title:"操作提示",content:confirmMsg});case 2:return _context4.abrupt("return",_context4.sent);case 3:case"end":return _context4.stop()}},_callee4,this)}));return function(_x2){return _ref4.apply(this,arguments)}}(),vm=this;vm.classInfo={className:""},vm.msg="",vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){var classes;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,vm.userInfo=$cookies.getObject("userInfo"),_context.next=4,http.get("GetAllSubject");case 4:return vm.subjectlist=_context.sent,vm.subjectlist.length>0&&(vm.currentSubject=vm.subjectlist[0]),_context.next=8,http.get("GetTeacherClasses");case 8:classes=_context.sent,vm.classes=classes,_context.next=15;break;case 12:_context.prev=12,_context.t0=_context.catch(0),showErrMsg("加载数据异常异常");case 15:case"end":return _context.stop()}},_callee,this,[[0,12]])})),vm.create=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){var result,classes;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(console.log(vm.classInfo.className),!0!==checkClass(vm.classInfo.className)){_context2.next=22;break}return _context2.prev=2,_context2.next=5,http.get("CreateClass",{className:vm.classInfo.className,subjectID:vm.currentSubject.SubjectID});case 5:if(!0!==(result=_context2.sent)){_context2.next=14;break}return showErrMsg("班级创建成功"),_context2.next=10,http.get("GetTeacherClasses");case 10:classes=_context2.sent,vm.classes=classes,_context2.next=15;break;case 14:showErrMsg("该班级已存在");case 15:_context2.next=20;break;case 17:_context2.prev=17,_context2.t0=_context2.catch(2),showErrMsg("班级创建失败");case 20:_context2.next=23;break;case 22:showErrMsg("班级名不能为空！");case 23:case"end":return _context2.stop()}},_callee2,this,[[2,17]])})),vm.deleteClass=function(){var _ref3=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(classId){var confirm,userInfo,result,classes;return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,showConfrimMsg("是否删除该班级?");case 2:if("确定"!==(confirm=_context3.sent)){_context3.next=17;break}return userInfo=$cookies.getObject("userInfo"),_context3.next=7,http.get("DeleteTeacherClass",{teacherId:userInfo.id,classId:classId});case 7:if(!0!==(result=_context3.sent)){_context3.next=16;break}return showErrMsg("班级删除成功"),_context3.next=12,http.get("GetTeacherClasses");case 12:classes=_context3.sent,vm.classes=classes,_context3.next=17;break;case 16:showErrMsg("删除失败");case 17:case"end":return _context3.stop()}},_callee3,this)}));return function(_x){return _ref3.apply(this,arguments)}}()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var _cwDialog=(__webpack_require__(0),__webpack_require__(3)),name=exports.name="teacherManagerClassCreate"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/teacherOnlineAnswerDetail/teacherOnlineAnswerDetail.html",controller:["$scope","$cookies","$element","$state","http","$stateParams",controller]})}function controller($scope,$cookies,$element,$state,http,$stateParams){function init(){vm.onlineQuesionsDetail=$stateParams.onlineQuestionsDetail,onlineQuesionsDetail=vm.onlineQuesionsDetail,vm.currentClass=$stateParams.currentClass,vm.isHistroy=$stateParams.isHistroy,vm.currentPage=$stateParams.currentPage,vm.pageItems=$stateParams.pageItems,vm.totalItems=$stateParams.totalItems,vm.userinfo=$cookies.getObject("userInfo"),vm.userinfoId=parseInt("10",vm.userinfo.id),getQuestionReply(),setTimeout(function(){findImgInput().eq(0).bind("change",onSelectImg)},0)}function findImgInput(){return angular.element(document.getElementsByClassName("js_product_imgs"))}function onSelectImg(event){for(var parentElement=event.target.parentNode,img=null,i=0;i<parentElement.children.length;i++)"IMG"===parentElement.children[i].nodeName&&(img=parentElement.children[i]);var files=event.target.files;if(0===files.length)return void(img.src="");var file=files[0],reader=new FileReader;reader.onload=function(e){img.src=e.target.result},reader.readAsDataURL(file)}function showErrMsg(errMsg){_cwDialog.dialog.openDialog({type:"warning",title:"提示",content:errMsg})}var postReply=function(){var _ref=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){var content,userInfo,data,result;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(null!==(content=vm.answerContent)&&""!==content&&void 0!==content){_context.next=4;break}return showErrMsg("请输入内容"),_context.abrupt("return");case 4:return userInfo=$cookies.getObject("userInfo"),data={answer:vm.answerContent,img:vm.imgUrl,questionID:$stateParams.onlineQuestionsDetail.id,answerID:userInfo.id,type:userInfo.type},vm.isShow=!0,_context.next=9,http.post("ReplyStudentQuestion",data);case 9:result=_context.sent,!0===result?(vm.msg="回复成功",vm.isShow=!1,getQuestionReply()):showErrMsg("回复失败");case 11:case"end":return _context.stop()}},_callee,this)}));return function(){return _ref.apply(this,arguments)}}(),getQuestionReply=function(){var _ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(){var result,userInfo,newReplyList,id,_this=this;return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.prev=0,_context3.next=3,http.get("getQuestionAnswer",{questionID:vm.onlineQuesionsDetail.id,currentPage:vm.currentReplyPage,pageItems:vm.replyPageItem});case 3:result=_context3.sent,vm.replyList=result,0!==result.length&&(vm.totalReplyItems=result[0].count),vm.replyList.forEach(function(){var _ref3=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(item){var studentInfo,teacherInfo;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(item.answerTime=new Date(item.answerTime.time),0!==item.type){_context2.next=8;break}return _context2.next=4,http.get("GetStudents",{userID:item.answerId});case 4:studentInfo=_context2.sent,0!==studentInfo.length&&(item.realName=studentInfo[0].realName),_context2.next=12;break;case 8:return _context2.next=10,http.get("GetTeachers",{userID:item.answerId});case 10:teacherInfo=_context2.sent,0!==teacherInfo.length&&(item.realName=teacherInfo[0].realName);case 12:case"end":return _context2.stop()}},_callee2,_this)}));return function(_x){return _ref3.apply(this,arguments)}}()),!0===vm.isHistroy?(userInfo=$cookies.getObject("userInfo"),newReplyList=[],id=parseInt(userInfo.id),vm.replyList.forEach(function(item){id===item.answerId&&1===item.type&&newReplyList.push(item),vm.onlineQuesionsDetail.studentId===item.answerId&&0===item.type&&newReplyList.push(item)}),vm.replyList=newReplyList):vm.replyList=result,_context3.next=14;break;case 10:return _context3.prev=10,_context3.t0=_context3.catch(0),showErrMsg("获取回复失败"),_context3.abrupt("return");case 14:case"end":return _context3.stop()}},_callee3,this,[[0,10]])}));return function(){return _ref2.apply(this,arguments)}}(),showConfrimMsg=function(){var _ref6=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee6(confirmMsg){return _regenerator2.default.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.next=2,_cwDialog.dialog.openDialog({type:"normal",title:"操作提示",content:confirmMsg});case 2:return _context6.abrupt("return",_context6.sent);case 3:case"end":return _context6.stop()}},_callee6,this)}));return function(_x4){return _ref6.apply(this,arguments)}}(),vm=this;vm.$onInit=init,vm.isShow=!1,vm.replyList=null,vm.onlineQuesionsDetail=null,vm.currentClass=null,vm.isHistroy=null,vm.imgUrl=null,vm.currentReplyPage=1,vm.replyPageItem=7,vm.totalReplyItems=0;var onlineQuesionsDetail=null;vm.reply=function(){vm.isShow=!0,vm.msg=""},vm.goToImgUrl=function(img){window.open(img)},vm.pageChanged=function(){getQuestionReply()},vm.previousPage=function(){!0===vm.isHistroy?$state.go("teacher.onlineHistoryAnswer",{currentPage:vm.currentPage,pageItems:vm.pageItems,totalItems:vm.totalItems}):$state.go("teacher.onlineanswer",{currentClass:vm.currentClass,currentPage:vm.currentPage,pageItems:vm.pageItems,totalItems:vm.totalItems})},vm.deleleReply=function(){var _ref4=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee4(replyId,answerId){var userinfo,comfirm,result;return _regenerator2.default.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(userinfo=$cookies.getObject("userInfo"),parseInt("10",userinfo.id)!==answerId){_context4.next=10;break}return _context4.next=4,showConfrimMsg("是否删除此条回复?");case 4:if("确定"!==(comfirm=_context4.sent)){_context4.next=10;break}return _context4.next=8,http.get("DeleteReply",{ReplyID:replyId});case 8:result=_context4.sent,!0===result?(vm.onlineQuesionsDetail=onlineQuesionsDetail,getQuestionReply()):showErrMsg("删除失败");case 10:case"end":return _context4.stop()}},_callee4,this)}));return function(_x2,_x3){return _ref4.apply(this,arguments)}}(),vm.replyQuestion=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee5(){var imgs,file,i,formData,imgResult;return _regenerator2.default.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:for(imgs=[],imgs=findImgInput(),file=[],i=0;i<imgs.length;i++)void 0!==imgs[i].files[0]&&file.push(imgs[i].files[0]);for(formData=new FormData,i=0;i<file.length;i++)formData.append("img"+i,file[i]);if(_context5.prev=6,0==file.length){_context5.next=12;break}return _context5.next=10,http.submitForm("UploadImage",formData);case 10:imgResult=_context5.sent,vm.imgUrl=imgResult;case 12:postReply(),_context5.next=19;break;case 15:_context5.prev=15,_context5.t0=_context5.catch(6),console.log(_context5.t0),showErrMsg("上传图片失败");case 19:case"end":return _context5.stop()}},_callee5,this,[[6,15]])}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var _cwDialog=(__webpack_require__(0),__webpack_require__(3)),name=exports.name="teacherOnlineAnswerDetail"},function(module,exports,__webpack_require__){"use strict";function root(app){app.component(name,{templateUrl:"./component/teacherOnlineAnswerNavigation/teacherOnlineAnswerNavigation.html",controller:["$scope","$element","$state","$cookies","http",controller]})}function controller($scope,$element,$state,$cookies,http){}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0,exports.default=root;var name=(__webpack_require__(0),exports.name="teacherOnlineAnswerNavigation")},function(module,exports,__webpack_require__){"use strict";function root(app){app.component(name,{templateUrl:"./component/teacherPaperNavigation/teacherPaperNavigation.html",controller:["$scope","$element","$state","$cookies","http",controller]})}function controller($scope,$element,$state,$cookies,http){this.$onInit=function(){}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0,exports.default=root;var name=(__webpack_require__(0),exports.name="teacherPaperNavigation")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/teacherPaper/teacherPaper.html",controller:["$scope","$element","$state","$cookies","http",controller]})}function controller($scope,$element,$state,$cookies,http){function mergeData(){vm.allQuestion.map(function(item){var find=vm.paper.papertitles.find(function(tItem){return tItem.itemId===item.itemId});find&&(item.isChecked=!0,item.score=find.score)})}function showErrMsg(errMsg){_cwDialog.dialog.openDialog({type:"warning",title:"错误提示",content:errMsg})}var getQuestions=function(){var _ref5=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee5(){var result;return _regenerator2.default.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return result=null,_context5.prev=1,_context5.next=4,http.get("GetQuestions",{subjectId:vm.currentSubject.SubjectID,type:vm.currentType.value,currentPage:vm.currentPage,pageItems:vm.pageItems});case 4:result=_context5.sent,vm.allQuestion=result,0!==vm.allQuestion.length&&(vm.totalItems=vm.allQuestion[0].count),mergeData(),vm.allQuestion.forEach(function(item){"score"in item==!1&&(item.score=5)}),_context5.next=14;break;case 11:_context5.prev=11,_context5.t0=_context5.catch(1),showErrMsg("获取题目数据异常");case 14:return _context5.abrupt("return",result);case 15:case"end":return _context5.stop()}},_callee5,this,[[1,11]])}));return function(){return _ref5.apply(this,arguments)}}(),showConfrimMsg=function(){var _ref6=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee6(confirmMsg){return _regenerator2.default.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.next=2,_cwDialog.dialog.openDialog({type:"normal",title:"提示",content:confirmMsg});case 2:return _context6.abrupt("return",_context6.sent);case 3:case"end":return _context6.stop()}},_callee6,this)}));return function(_x){return _ref6.apply(this,arguments)}}(),vm=this;vm.types=[{label:"选择题",value:1},{label:"判断题",value:2},{label:"简答题",value:3}],vm.currentType=vm.types[0],vm.questions=[],vm.allQuestion=[],vm.currentPage=1,vm.pageItems=4,vm.maxSize=5,vm.totalItems=20,vm.msg="",vm.currentSubject=null,vm.subjectlist=null,vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,http.get("GetTeacherSubject");case 3:vm.subjectlist=_context.sent,0!==vm.subjectlist.length&&(vm.currentSubject=vm.subjectlist[0],vm.getQuestionByType()),_context.next=10;break;case 7:_context.prev=7,_context.t0=_context.catch(0),showErrMsg("初始化页面异常");case 10:case"end":return _context.stop()}},_callee,this,[[0,7]])})),vm.paper={subjectId:null,papername:(new Date).toLocaleString(),papertitles:[]},vm.pageChanged=function(){getQuestions()},vm.createPager=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){var count,totalScore,confirmMsg,confirm,result;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(vm.msg="",count=vm.paper.papertitles.length,totalScore=0,vm.paper.subjectId=vm.currentSubject.SubjectID,vm.paper.papertitles.forEach(function(item){totalScore+=item.score}),0!==count&&0!==totalScore){_context2.next=8;break}return showErrMsg("请选择题目且合理配置试卷分数"),_context2.abrupt("return");case 8:if(100===totalScore){_context2.next=11;break}return showErrMsg("试卷总分需为100分!目前为"+totalScore+"分"),_context2.abrupt("return");case 11:return confirmMsg="确定创建试卷?共"+count+"道题,共"+totalScore+"分",_context2.next=14,showConfrimMsg(confirmMsg);case 14:if("确定"!==(confirm=_context2.sent)){_context2.next=27;break}return _context2.prev=16,_context2.next=19,http.post("CreatePaper",vm.paper);case 19:result=_context2.sent,showErrMsg("创建试卷成功"),$state.go("teacher.publishPaper"),_context2.next=27;break;case 24:_context2.prev=24,_context2.t0=_context2.catch(16),showErrMsg("创建试卷失败");case 27:case"end":return _context2.stop()}},_callee2,this,[[16,24]])})),vm.getQuestionByType=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(){var rs;return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(0===vm.subjectlist.length){_context3.next=4;break}return _context3.next=3,getQuestions();case 3:rs=_context3.sent;case 4:case"end":return _context3.stop()}},_callee3,this)})),vm.getQuestionBySubject=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee4(){var rs;return _regenerator2.default.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(0===vm.subjectlist.length){_context4.next=4;break}return _context4.next=3,getQuestions();case 3:rs=_context4.sent;case 4:case"end":return _context4.stop()}},_callee4,this)})),vm.append=function(question){!0===question.isChecked?vm.paper.papertitles.push({itemId:question.itemId,score:question.score}):vm.paper.papertitles=vm.paper.papertitles.filter(function(item){return item.itemId!==question.itemId})},vm.questionScoreChange=function(question){var find=vm.paper.papertitles.find(function(item){return item.itemId===question.itemId});find&&(find.score=question.score)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var _cwDialog=(__webpack_require__(0),__webpack_require__(3)),name=exports.name="teacherPaper"},function(module,exports,__webpack_require__){"use strict";function root(app){app.component(name,{templateUrl:"./component/teacherSidebar/teacherSidebar.html",controller:["$scope","$rootScope","$element","$state","$cookies","$transitions","http",controller]})}function controller($scope,$rootScope,$element,$state,$cookies,$transitions,http){var vm=this,topRouter=[{name:"出试卷",url:"teacher.paperCreate"},{name:"布置作业",url:"teacher.homeworkCreate"},{name:"答疑",url:"teacher.onlineanswer"},{name:"个人中心",url:"teacher.teacherManagerClassCreate"}];vm.$onInit=function(){vm.routers=topRouter}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0,exports.default=root;var name=(__webpack_require__(0),exports.name="teacherSidebar")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/teacherUploadFile/teacherUploadFile.html",controller:["$scope","$rootScope","$element","$state","$cookies","$transitions","http",controller]})}function controller($scope,$rootScope,$element,$state,$cookies,$transitions,http){function findFileInput(){return angular.element(document.getElementsByClassName("js_file"))}function onSelectFile(event){var files=event.target.files;if(0!==files.length){var file=files[0],reader=new FileReader;reader.onload=function(e){},reader.readAsDataURL(file)}}function showErrMsg(errMsg){_cwDialog.dialog.openDialog({type:"warning",title:"提示",content:errMsg})}var vm=this;vm.progress=0,vm.$onInit=function(){setTimeout(function(){findFileInput().eq(0).bind("change",onSelectFile)},0)},vm.uploadFile=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){var uploadFile,file,i,formData,result;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:for(uploadFile=[],uploadFile=findFileInput(),file=[],i=0;i<uploadFile.length;i++)void 0!==uploadFile[i].files[0]&&file.push(uploadFile[i].files[0]);for(formData=new FormData,i=0;i<file.length;i++)formData.append("uploadFile"+i,file[i]);if(_context.prev=6,0==file.length){_context.next=12;break}return _context.next=10,http.submitForm("UploadFile",formData,{progress:function(e){e.lengthComputable&&(vm.progress=Math.round(e.loaded/e.total*100))}});case 10:result=_context.sent,null!=result&&showErrMsg("上传文件成功");case 12:_context.next=18;break;case 14:_context.prev=14,_context.t0=_context.catch(6),console.log(_context.t0),showErrMsg("上传文件失败");case 18:case"end":return _context.stop()}},_callee,this,[[6,14]])}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var _cwDialog=(__webpack_require__(0),__webpack_require__(3)),name=exports.name="teacherUploadFile"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/teacherUserInfo/teacherUserInfo.html",controller:["$scope","$element","$state","$cookies","http",controller]})}function controller($scope,$element,$state,$cookies,http){function showErrMsg(errMsg){_cwDialog.dialog.openDialog({type:"warning",title:"提示",content:errMsg})}var init=function(){var _ref=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){var user,userInfo,classes;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,user=$cookies.getObject("userInfo"),_context.next=4,http.get("GetUserInfoByName",{user_number:user.teacher_number,type:user.type});case 4:return userInfo=_context.sent,_context.next=7,http.get("GetTeacherClasses");case 7:classes=_context.sent,vm.userInfo=userInfo,vm.classes=classes,_context.next=15;break;case 12:_context.prev=12,_context.t0=_context.catch(0),showErrMsg("加载个人信息异常");case 15:case"end":return _context.stop()}},_callee,this,[[0,12]])}));return function(){return _ref.apply(this,arguments)}}(),vm=this;vm.$onInit=init(),vm.classes=[],vm.userInfo={teacher_number:"",realName:"",password:"",subjectID:"",teacherID:""},vm.updateinfo=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){var data,result;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,data={teacher_number:vm.userInfo.teacher_number,realName:vm.userInfo.realName,password:vm.userInfo.password,teacherID:vm.userInfo.userID},_context2.next=4,http.post("UpdateTeacher",data);case 4:result=_context2.sent,showErrMsg(1==result?"修改成功":"修改失败"),_context2.next=11;break;case 8:_context2.prev=8,_context2.t0=_context2.catch(0),showErrMsg("更新信息异常");case 11:case"end":return _context2.stop()}},_callee2,this,[[0,8]])}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var _cwDialog=(__webpack_require__(0),__webpack_require__(3)),name=exports.name="teacherUserInfo"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/teacheronlineHistoryAnswer/teacheronlineHistoryAnswer.html",controller:["$scope","$element","$state","$cookies","http","$stateParams",controller]})}function controller($scope,$element,$state,$cookies,http,$stateParams){function showErrMsg(errMsg){_cwDialog.dialog.openDialog({type:"warning",title:"提示",content:errMsg})}var getTeacherQuestion=function(){var _ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(){var result,_this=this;return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.prev=0,_context3.next=3,http.get("GetStudentQuestion",{currentPage:vm.currentPage,pageItems:vm.pageItems});case 3:result=_context3.sent,vm.questionsList=result,0!==result.length&&(vm.totalItems=result[0].count),vm.questionsList.forEach(function(){var _ref3=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(item){var studentInfo;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return item.createTime=new Date(item.createTime.time),_context2.next=3,http.get("GetStudents",{userID:item.studentId});case 3:studentInfo=_context2.sent,0!==studentInfo.length&&(item.studentName=studentInfo[0].realName);case 5:case"end":return _context2.stop()}},_callee2,_this)}));return function(_x){return _ref3.apply(this,arguments)}}()),_context3.next=12;break;case 9:_context3.prev=9,_context3.t0=_context3.catch(0),showErrMsg("获取历史数据失败");case 12:case"end":return _context3.stop()}},_callee3,this,[[0,9]])}));return function(){return _ref2.apply(this,arguments)}}(),vm=this;vm.questionsList=null,vm.currentPage=1,vm.pageItems=8,vm.maxSize=5,vm.totalItems=0,vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:null!==$stateParams.currentPage&&(vm.currentPage=$stateParams.currentPage,vm.pageItems=$stateParams.pageItems,vm.totalItems=$stateParams.totalItems),getTeacherQuestion();case 2:case"end":return _context.stop()}},_callee,this)})),vm.pageChanged=function(){getTeacherQuestion()}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var _cwDialog=(__webpack_require__(0),__webpack_require__(3)),name=exports.name="teacheronlineHistoryAnswer"},function(module,exports,__webpack_require__){"use strict";function root(app){app.component(name,{templateUrl:"./component/tophead/tophead.html",controller:["$scope","$element","$state","$cookies","http",controller]})}function controller($scope,$element,$state,$cookies,http){var vm=this;vm.$onInit=function(){vm.userInfo=$cookies.getObject("userInfo")}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0,exports.default=root;var name=(__webpack_require__(0),exports.name="tophead")},function(module,exports,__webpack_require__){"use strict";function routerConfig($stateProvider){[{name:"login",url:"/login",views:{content:{component:"login"}}},{name:"student",url:"/student",abstract:!0},{name:"student.register",url:"/register",views:{"content@":{component:"registerStudent"}}},{name:"student.test",url:"/test",views:{"head@":{component:"studentSidebar"},"content@":{component:"studentTest"}}},{name:"student.studentTestPaperList",url:"/studentTestPaperList/{SubjectName}/{SubjectID}/{teacherID}",params:{SubjectName:null,SubjectID:null,teacherID:null},views:{"head@":{component:"studentSidebar"},"content@":{component:"studentTestPaperList"}}},{name:"student.studentTestPaper",url:"/studentTestPaper/{SubjectName}/{SubjectID}/{teacherID}/{testpaperID}/{testName}",params:{SubjectName:null,SubjectID:null,teacherID:null,testpaperID:null,testName:null},views:{"head@":{component:"studentSidebar"},"content@":{component:"studentTestPaper"}}},{name:"student.studentTestPaperResultDetail",url:"/studentTestPaperResultDetail/{SubjectName}/{SubjectID}/{teacherID}/{testpaperID}/{paperResultID}",params:{SubjectName:null,SubjectID:null,teacherID:null,testpaperID:null,paperResultID:null},views:{"head@":{component:"studentSidebar"},"content@":{component:"studentTestPaperResultDetail"}}},{name:"student.homework",url:"/homework",views:{"head@":{component:"studentSidebar"},"content@":{component:"studentHomework"}}},{name:"student.studentHomeworkList",url:"/studentHomeworkList/{SubjectName}/{SubjectID}",params:{SubjectName:null,SubjectID:null},views:{"head@":{component:"studentSidebar"},"content@":{component:"studentHomeworkList"}}},{name:"student.studentHomeworkDetail",url:"/studentHomeworkDetail/{homeWorkName}/{homeworkId}/{SubjectName}/{SubjectID}",params:{homeWorkName:null,homeworkId:null,SubjectName:null,SubjectID:null},views:{"head@":{component:"studentSidebar"},"content@":{component:"studentHomeworkDetail"}}},{name:"student.studentHomeworkResultDetail",url:"/studentHomeworkResultDetail/{homeworkId}/{SubjectName}/{SubjectID}",params:{homeworkId:null,SubjectName:null,SubjectID:null},views:{"head@":{component:"studentSidebar"},"content@":{component:"studentHomeworkResultDetail"}}},{name:"student.question",url:"/question",views:{"head@":{component:"studentSidebar"},"content@":{component:"studentOnlineNavigation"}}},{name:"student.onlineQuestion",url:"/onlineQuestion",params:{currentClass:null,currentPage:null,pageItems:null,totalItems:null},views:{"head@":{component:"studentSidebar"},"content@":{component:"onlineQuestion"}}},{name:"student.postQuestion",url:"/postQuestion",views:{"head@":{component:"studentSidebar"},"content@":{component:"studentPostQuestion"}}},{name:"student.studentOnlineAnswerDetail",url:"/studentOnlineAnswerDetail",params:{onlineQuestionsDetail:null,currentClass:null,isHistroy:null,currentPage:null,pageItems:null,totalItems:null},views:{"head@":{component:"studentSidebar"},"content@":{component:"studentOnlineAnswerDetail"}}},{name:"student.studentQuestionHistory",url:"/studentQuestionHistory",params:{currentPage:null,pageItems:null,totalItems:null},views:{"head@":{component:"studentSidebar"},"content@":{component:"studentQuestionHistory"}}},{name:"student.center",url:"/center",views:{"head@":{component:"studentSidebar"},"content@":{component:"studentCenter"}}},{name:"teacher",url:"/teacher",abstract:!0},{name:"teacher.register",url:"/register",views:{"content@":{component:"registerTeacher"}}},{name:"teacher.paper",url:"/paper",views:{"head@":{component:"teacherSidebar"},"content@":{component:"teacherPaperNavigation"}}},{name:"teacher.paperCreate",url:"/paperCreate",views:{"head@":{component:"teacherSidebar"},"content@":{component:"teacherPaper"}}},{name:"teacher.publishPaper",url:"/publishPaper",params:{currentPage:null,pageItems:null,totalItems:null},views:{"head@":{component:"teacherSidebar"},"content@":{component:"publishPaper"}}},{name:"teacher.paperDetail",url:"/paperDetail",params:{testpaperID:null,testName:null,currentPage:null,pageItems:null,totalItems:null},views:{"head@":{component:"teacherSidebar"},"content@":{component:"paperDetail"}}},{name:"teacher.paperResult",url:"/paperResult",params:{testpaperID:null,testName:null,currentPage:null,pageItems:null,totalItems:null},views:{"head@":{component:"teacherSidebar"},"content@":{component:"paperResult"}}},{name:"teacher.paperResultDetail",url:"/paperResultDetail/{resultId}/{testpaperID}/{testName}",params:{resultId:null,testpaperID:null,testName:null},views:{"head@":{component:"teacherSidebar"},"content@":{component:"paperResultDetail"}}},{name:"teacher.center",url:"/center",views:{"head@":{component:"teacherSidebar"},"content@":{component:"teacherCenter"}}},{name:"teacher.homeworkDetail",url:"/homeworkDetail",params:{homeWorkName:null,homeworkId:null,currentPage:null,pageItems:null,totalItems:null},views:{"head@":{component:"teacherSidebar"},"content@":{component:"homeworkDetail"}}},{name:"teacher.teacherManagerClassCreate",url:"/teacherManagerClassCreate",views:{"head@":{component:"teacherSidebar"},"content@":{component:"teacherManagerClassCreate"}}},{name:"teacher.classStudent",url:"/classStudent/{classId}",params:{classId:null},views:{"head@":{component:"teacherSidebar"},"content@":{component:"teacherClassStudent"}}},{name:"teacher.teacherAssignStudent",url:"/teacherAssignStudent",views:{"head@":{component:"teacherSidebar"},"content@":{component:"teacherAssignStudent"}}},{name:"teacher.teacherUploadFile",url:"/teacherUploadFile",views:{"head@":{component:"teacherSidebar"},"content@":{component:"teacherUploadFile"}}},{name:"teacher.homework",url:"/homework",views:{"head@":{component:"teacherSidebar"},"content@":{component:"teacherHomeworkNavigation"}}},{name:"teacher.homeworkCreate",url:"/homeworkCreate",views:{"head@":{component:"teacherSidebar"},"content@":{component:"homeworkCreate"}}},{name:"teacher.homeWorkHistory",url:"/homeWorkHistory",params:{currentPage:null,pageItems:null,totalItems:null},views:{"head@":{component:"teacherSidebar"},"content@":{component:"homeWorkHistory"}}},{name:"teacher.publishHomework",url:"/publishHomework",params:{homeworkId:null,subjectId:null,currentPage:null,pageItems:null,totalItems:null},views:{"head@":{component:"teacherSidebar"},"content@":{component:"publishHomework"}}},{name:"teacher.teacherHomeworkResultList",url:"/teacherHomeworkResultList",params:{homeworkId:null,homeWorkName:null,currentPage:null,pageItems:null,totalItems:null},views:{"head@":{component:"teacherSidebar"},"content@":{component:"teacherHomeworkResultList"}}},{name:"teacher.teacherHomeworkResultDetail",url:"/teacherHomeworkResultDetail/{homeworkId}/{homeWorkName}/{homeworkResultID}",params:{homeworkId:null,homeWorkName:null,homeworkResultID:null},views:{"head@":{component:"teacherSidebar"},"content@":{component:"teacherHomeworkResultDetail"}}},{name:"teacher.onlineanswerNavigation",url:"/onlineanswerNavigation",views:{"head@":{component:"teacherSidebar"},"content@":{component:"teacherOnlineAnswerNavigation"}}},{name:"teacher.onlineanswer",url:"/onlineanswer",params:{currentClass:null,currentPage:null,pageItems:null,totalItems:null},views:{"head@":{component:"teacherSidebar"},"content@":{component:"onlineAnswer"}}},{name:"teacher.onlineAnswerDetail",url:"/onlineAnswerDetail",params:{onlineQuestionsDetail:null,currentClass:null,isHistroy:null,currentPage:null,pageItems:null,totalItems:null},views:{"head@":{component:"teacherSidebar"},"content@":{component:"teacherOnlineAnswerDetail"}}},{name:"teacher.onlineHistoryAnswer",url:"/onlineHistoryAnswer",params:{currentPage:null,pageItems:null,totalItems:null},views:{"head@":{component:"teacherSidebar"},"content@":{component:"teacheronlineHistoryAnswer"}}},{name:"teacher.UserInfo",url:"/UserInfo",views:{"head@":{component:"teacherSidebar"},"content@":{component:"teacherUserInfo"}}},{name:"admin",url:"/admin",abstract:!0},{name:"admin.center",url:"/center",views:{"head@":{component:"adminSidebar"},"content@":{component:"adminCenter"}}}].forEach(function(state){$stateProvider.state(state)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.routerConfig=routerConfig},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function httpService(app){app.factory("http",["$q","$http","$httpParamSerializerJQLike","$rootScope",serviceFunc])}function serviceFunc($q,$http,$httpParamSerializerJQLike,$rootScope,$mdDialog){var submitForm=function(){var _ref=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(url,data,config){var deferred,response,progress,result;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return url=baseUrl+url,deferred=$q.defer(),response=null,progress=0,config=config||{},_context.prev=5,_context.next=8,$http({method:"POST",url:url,data:data,headers:{"Content-Type":void 0},uploadEventHandlers:config});case 8:response=_context.sent,result=response.data,0===result.code?deferred.resolve(result.data):deferred.reject(result.message),_context.next=17;break;case 13:_context.prev=13,_context.t0=_context.catch(5),console.log(_context.t0),deferred.reject("操作失败");case 17:return _context.prev=17,window.setTimeout(function(){$rootScope.$applyAsync(null)},0),_context.finish(17);case 20:return _context.abrupt("return",deferred.promise);case 21:case"end":return _context.stop()}},_callee,this,[[5,13,17,20]])}));return function(_x,_x2,_x3){return _ref.apply(this,arguments)}}(),post=function(){var _ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(url,data,headers){var deferred,response,result;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return url=baseUrl+url,headers=headers||{},deferred=$q.defer(),response=null,_context2.prev=4,_context2.next=7,$http({method:"POST",url:url,data:data,headers:headers});case 7:response=_context2.sent,result=response.data,0===result.code?deferred.resolve(result.data):deferred.reject(result.message),_context2.next=16;break;case 12:_context2.prev=12,_context2.t0=_context2.catch(4),console.log(_context2.t0),deferred.reject("操作失败");case 16:return _context2.prev=16,window.setTimeout(function(){$rootScope.$applyAsync(null)},0),_context2.finish(16);case 19:return _context2.abrupt("return",deferred.promise);case 20:case"end":return _context2.stop()}},_callee2,this,[[4,12,16,19]])}));return function(_x4,_x5,_x6){return _ref2.apply(this,arguments)}}(),get=function(){var _ref3=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(url,data){var deferred,response,result;return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return url=baseUrl+url,deferred=$q.defer(),response=null,_context3.prev=3,_context3.next=6,$http({method:"GET",url:url,params:data});case 6:response=_context3.sent,result=response.data,0===result.code?deferred.resolve(result.data):deferred.reject(result.message),_context3.next=15;break;case 11:_context3.prev=11,_context3.t0=_context3.catch(3),console.log(_context3.t0),deferred.reject("操作失败");case 15:return _context3.prev=15,window.setTimeout(function(){$rootScope.$applyAsync(null)},0),_context3.finish(15);case 18:return _context3.abrupt("return",deferred.promise);case 19:case"end":return _context3.stop()}},_callee3,this,[[3,11,15,18]])}));return function(_x7,_x8){return _ref3.apply(this,arguments)}}(),baseUrl="http://192.168.191.4:8080/XUEXI/";return{post:post,get:get,submitForm:submitForm}}Object.defineProperty(exports,"__esModule",{value:!0});var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=httpService},,,function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(122),__esModule:!0}},,,,function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(127),__esModule:!0}},,,,,function(module,exports,__webpack_require__){__webpack_require__(156),module.exports=__webpack_require__(4).Object.assign},,,,,function(module,exports,__webpack_require__){__webpack_require__(58),__webpack_require__(59),__webpack_require__(60),__webpack_require__(161),module.exports=__webpack_require__(4).Promise},,,,function(module,exports){module.exports=function(it,Constructor,name,forbiddenField){if(!(it instanceof Constructor)||void 0!==forbiddenField&&forbiddenField in it)throw TypeError(name+": incorrect invocation!");return it}},,,function(module,exports,__webpack_require__){var ctx=__webpack_require__(20),call=__webpack_require__(138),isArrayIter=__webpack_require__(136),anObject=__webpack_require__(7),toLength=__webpack_require__(57),getIterFn=__webpack_require__(153),BREAK={},RETURN={},exports=module.exports=function(iterable,entries,fn,that,ITERATOR){var length,step,iterator,result,iterFn=ITERATOR?function(){return iterable}:getIterFn(iterable),f=ctx(fn,that,entries?2:1),index=0;if("function"!=typeof iterFn)throw TypeError(iterable+" is not iterable!");if(isArrayIter(iterFn)){for(length=toLength(iterable.length);length>index;index++)if((result=entries?f(anObject(step=iterable[index])[0],step[1]):f(iterable[index]))===BREAK||result===RETURN)return result}else for(iterator=iterFn.call(iterable);!(step=iterator.next()).done;)if((result=call(iterator,f,step.value,entries))===BREAK||result===RETURN)return result};exports.BREAK=BREAK,exports.RETURN=RETURN},function(module,exports){module.exports=function(fn,args,that){var un=void 0===that;switch(args.length){case 0:return un?fn():fn.call(that);case 1:return un?fn(args[0]):fn.call(that,args[0]);case 2:return un?fn(args[0],args[1]):fn.call(that,args[0],args[1]);case 3:return un?fn(args[0],args[1],args[2]):fn.call(that,args[0],args[1],args[2]);case 4:return un?fn(args[0],args[1],args[2],args[3]):fn.call(that,args[0],args[1],args[2],args[3])}return fn.apply(that,args)}},function(module,exports,__webpack_require__){var Iterators=__webpack_require__(19),ITERATOR=__webpack_require__(5)("iterator"),ArrayProto=Array.prototype;module.exports=function(it){return void 0!==it&&(Iterators.Array===it||ArrayProto[ITERATOR]===it)}},,function(module,exports,__webpack_require__){var anObject=__webpack_require__(7);module.exports=function(iterator,fn,value,entries){try{return entries?fn(anObject(value)[0],value[1]):fn(value)}catch(e){var ret=iterator.return;throw void 0!==ret&&anObject(ret.call(iterator)),e}}},,function(module,exports,__webpack_require__){var ITERATOR=__webpack_require__(5)("iterator"),SAFE_CLOSING=!1;try{var riter=[7][ITERATOR]();riter.return=function(){SAFE_CLOSING=!0},Array.from(riter,function(){throw 2})}catch(e){}module.exports=function(exec,skipClosing){if(!skipClosing&&!SAFE_CLOSING)return!1;var safe=!1;try{var arr=[7],iter=arr[ITERATOR]();iter.next=function(){return{done:safe=!0}},arr[ITERATOR]=function(){return iter},exec(arr)}catch(e){}return safe}},,,function(module,exports,__webpack_require__){var global=__webpack_require__(6),macrotask=__webpack_require__(56).set,Observer=global.MutationObserver||global.WebKitMutationObserver,process=global.process,Promise=global.Promise,isNode="process"==__webpack_require__(18)(process);module.exports=function(){var head,last,notify,flush=function(){var parent,fn;for(isNode&&(parent=process.domain)&&parent.exit();head;){fn=head.fn,head=head.next;try{fn()}catch(e){throw head?notify():last=void 0,e}}last=void 0,parent&&parent.enter()};if(isNode)notify=function(){process.nextTick(flush)};else if(Observer){var toggle=!0,node=document.createTextNode("");new Observer(flush).observe(node,{characterData:!0}),notify=function(){node.data=toggle=!toggle}}else if(Promise&&Promise.resolve){var promise=Promise.resolve();notify=function(){promise.then(flush)}}else notify=function(){macrotask.call(global,flush)};return function(fn){var task={fn:fn,next:void 0};last&&(last.next=task),head||(head=task,notify()),last=task}}},function(module,exports,__webpack_require__){"use strict";var getKeys=__webpack_require__(16),gOPS=__webpack_require__(36),pIE=__webpack_require__(22),toObject=__webpack_require__(25),IObject=__webpack_require__(49),$assign=Object.assign;module.exports=!$assign||__webpack_require__(14)(function(){var A={},B={},S=Symbol(),K="abcdefghijklmnopqrst";return A[S]=7,K.split("").forEach(function(k){B[k]=k}),7!=$assign({},A)[S]||Object.keys($assign({},B)).join("")!=K})?function(target,source){for(var T=toObject(target),aLen=arguments.length,index=1,getSymbols=gOPS.f,isEnum=pIE.f;aLen>index;)for(var key,S=IObject(arguments[index++]),keys=getSymbols?getKeys(S).concat(getSymbols(S)):getKeys(S),length=keys.length,j=0;length>j;)isEnum.call(S,key=keys[j++])&&(T[key]=S[key]);return T}:$assign},,,,function(module,exports,__webpack_require__){var hide=__webpack_require__(11);module.exports=function(target,src,safe){for(var key in src)safe&&target[key]?target[key]=src[key]:hide(target,key,src[key]);return target}},function(module,exports,__webpack_require__){"use strict";var global=__webpack_require__(6),core=__webpack_require__(4),dP=__webpack_require__(12),DESCRIPTORS=__webpack_require__(8),SPECIES=__webpack_require__(5)("species");module.exports=function(KEY){var C="function"==typeof core[KEY]?core[KEY]:global[KEY];DESCRIPTORS&&C&&!C[SPECIES]&&dP.f(C,SPECIES,{configurable:!0,get:function(){return this}})}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(7),aFunction=__webpack_require__(31),SPECIES=__webpack_require__(5)("species");module.exports=function(O,D){var S,C=anObject(O).constructor;return void 0===C||void 0==(S=anObject(C)[SPECIES])?D:aFunction(S)}},,,function(module,exports,__webpack_require__){var classof=__webpack_require__(46),ITERATOR=__webpack_require__(5)("iterator"),Iterators=__webpack_require__(19);module.exports=__webpack_require__(4).getIteratorMethod=function(it){if(void 0!=it)return it[ITERATOR]||it["@@iterator"]||Iterators[classof(it)]}},,,function(module,exports,__webpack_require__){var $export=__webpack_require__(9);$export($export.S+$export.F,"Object",{assign:__webpack_require__(144)})},,,,,function(module,exports,__webpack_require__){"use strict";var Internal,GenericPromiseCapability,Wrapper,LIBRARY=__webpack_require__(21),global=__webpack_require__(6),ctx=__webpack_require__(20),classof=__webpack_require__(46),$export=__webpack_require__(9),isObject=__webpack_require__(15),aFunction=__webpack_require__(31),anInstance=__webpack_require__(131),forOf=__webpack_require__(134),speciesConstructor=__webpack_require__(150),task=__webpack_require__(56).set,microtask=__webpack_require__(143)(),TypeError=global.TypeError,process=global.process,$Promise=global.Promise,process=global.process,isNode="process"==classof(process),empty=function(){},USE_NATIVE=!!function(){try{var promise=$Promise.resolve(1),FakePromise=(promise.constructor={})[__webpack_require__(5)("species")]=function(exec){exec(empty,empty)};return(isNode||"function"==typeof PromiseRejectionEvent)&&promise.then(empty)instanceof FakePromise}catch(e){}}(),sameConstructor=function(a,b){return a===b||a===$Promise&&b===Wrapper},isThenable=function(it){var then;return!(!isObject(it)||"function"!=typeof(then=it.then))&&then},newPromiseCapability=function(C){return sameConstructor($Promise,C)?new PromiseCapability(C):new GenericPromiseCapability(C)},PromiseCapability=GenericPromiseCapability=function(C){var resolve,reject;this.promise=new C(function($$resolve,$$reject){if(void 0!==resolve||void 0!==reject)throw TypeError("Bad Promise constructor");resolve=$$resolve,reject=$$reject}),this.resolve=aFunction(resolve),this.reject=aFunction(reject)},perform=function(exec){try{exec()}catch(e){return{error:e}}},notify=function(promise,isReject){if(!promise._n){promise._n=!0;var chain=promise._c;microtask(function(){for(var value=promise._v,ok=1==promise._s,i=0;chain.length>i;)!function(reaction){var result,then,handler=ok?reaction.ok:reaction.fail,resolve=reaction.resolve,reject=reaction.reject,domain=reaction.domain;try{handler?(ok||(2==promise._h&&onHandleUnhandled(promise),promise._h=1),!0===handler?result=value:(domain&&domain.enter(),result=handler(value),domain&&domain.exit()),result===reaction.promise?reject(TypeError("Promise-chain cycle")):(then=isThenable(result))?then.call(result,resolve,reject):resolve(result)):reject(value)}catch(e){reject(e)}}(chain[i++]);promise._c=[],promise._n=!1,isReject&&!promise._h&&onUnhandled(promise)})}},onUnhandled=function(promise){task.call(global,function(){var abrupt,handler,console,value=promise._v;if(isUnhandled(promise)&&(abrupt=perform(function(){isNode?process.emit("unhandledRejection",value,promise):(handler=global.onunhandledrejection)?handler({promise:promise,reason:value}):(console=global.console)&&console.error&&console.error("Unhandled promise rejection",value)}),promise._h=isNode||isUnhandled(promise)?2:1),promise._a=void 0,abrupt)throw abrupt.error})},isUnhandled=function(promise){if(1==promise._h)return!1;for(var reaction,chain=promise._a||promise._c,i=0;chain.length>i;)if(reaction=chain[i++],reaction.fail||!isUnhandled(reaction.promise))return!1;return!0},onHandleUnhandled=function(promise){task.call(global,function(){var handler;isNode?process.emit("rejectionHandled",promise):(handler=global.onrejectionhandled)&&handler({promise:promise,reason:promise._v})})},$reject=function(value){var promise=this;promise._d||(promise._d=!0,promise=promise._w||promise,promise._v=value,promise._s=2,promise._a||(promise._a=promise._c.slice()),notify(promise,!0))},$resolve=function(value){var then,promise=this;if(!promise._d){promise._d=!0,promise=promise._w||promise;try{if(promise===value)throw TypeError("Promise can't be resolved itself");(then=isThenable(value))?microtask(function(){var wrapper={_w:promise,_d:!1};try{then.call(value,ctx($resolve,wrapper,1),ctx($reject,wrapper,1))}catch(e){$reject.call(wrapper,e)}}):(promise._v=value,promise._s=1,notify(promise,!1))}catch(e){$reject.call({_w:promise,_d:!1},e)}}};USE_NATIVE||($Promise=function(executor){anInstance(this,$Promise,"Promise","_h"),aFunction(executor),Internal.call(this);try{executor(ctx($resolve,this,1),ctx($reject,this,1))}catch(err){$reject.call(this,err)}},Internal=function(executor){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},Internal.prototype=__webpack_require__(148)($Promise.prototype,{then:function(onFulfilled,onRejected){var reaction=newPromiseCapability(speciesConstructor(this,$Promise));return reaction.ok="function"!=typeof onFulfilled||onFulfilled,reaction.fail="function"==typeof onRejected&&onRejected,reaction.domain=isNode?process.domain:void 0,this._c.push(reaction),this._a&&this._a.push(reaction),this._s&&notify(this,!1),reaction.promise},catch:function(onRejected){return this.then(void 0,onRejected)}}),PromiseCapability=function(){var promise=new Internal;this.promise=promise,this.resolve=ctx($resolve,promise,1),this.reject=ctx($reject,promise,1)}),$export($export.G+$export.W+$export.F*!USE_NATIVE,{Promise:$Promise}),__webpack_require__(24)($Promise,"Promise"),__webpack_require__(149)("Promise"),Wrapper=__webpack_require__(4).Promise,$export($export.S+$export.F*!USE_NATIVE,"Promise",{reject:function(r){var capability=newPromiseCapability(this);return(0,capability.reject)(r),capability.promise}}),$export($export.S+$export.F*(LIBRARY||!USE_NATIVE),"Promise",{resolve:function(x){if(x instanceof $Promise&&sameConstructor(x.constructor,this))return x;var capability=newPromiseCapability(this);return(0,capability.resolve)(x),capability.promise}}),$export($export.S+$export.F*!(USE_NATIVE&&__webpack_require__(140)(function(iter){$Promise.all(iter).catch(empty)})),"Promise",{all:function(iterable){var C=this,capability=newPromiseCapability(C),resolve=capability.resolve,reject=capability.reject,abrupt=perform(function(){var values=[],index=0,remaining=1;forOf(iterable,!1,function(promise){var $index=index++,alreadyCalled=!1;values.push(void 0),remaining++,C.resolve(promise).then(function(value){alreadyCalled||(alreadyCalled=!0,values[$index]=value,--remaining||resolve(values))},reject)}),--remaining||resolve(values)});return abrupt&&reject(abrupt.error),capability.promise},race:function(iterable){var C=this,capability=newPromiseCapability(C),reject=capability.reject,abrupt=perform(function(){forOf(iterable,!1,function(promise){C.resolve(promise).then(capability.resolve,reject)})});return abrupt&&reject(abrupt.error),capability.promise}})},,,,function(module,exports,__webpack_require__){(function(global){var g="object"==typeof global?global:"object"==typeof window?window:"object"==typeof self?self:this,hadRuntime=g.regeneratorRuntime&&Object.getOwnPropertyNames(g).indexOf("regeneratorRuntime")>=0,oldRuntime=hadRuntime&&g.regeneratorRuntime;if(g.regeneratorRuntime=void 0,module.exports=__webpack_require__(166),hadRuntime)g.regeneratorRuntime=oldRuntime;else try{delete g.regeneratorRuntime}catch(e){g.regeneratorRuntime=void 0}}).call(exports,__webpack_require__(61))},function(module,exports,__webpack_require__){(function(global){!function(global){"use strict";function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=makeInvokeMethod(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}function defineIteratorMethods(prototype){["next","throw","return"].forEach(function(method){prototype[method]=function(arg){return this._invoke(method,arg)}})}function AsyncIterator(generator){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?Promise.resolve(value.__await).then(function(value){invoke("next",value,resolve,reject)},function(err){invoke("throw",err,resolve,reject)}):Promise.resolve(value).then(function(unwrapped){result.value=unwrapped,resolve(result)},reject)}reject(record.arg)}function enqueue(method,arg){function callInvokeWithMethodAndArg(){return new Promise(function(resolve,reject){invoke(method,arg,resolve,reject)})}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}"object"==typeof global.process&&global.process.domain&&(invoke=global.process.domain.bind(invoke));var previousPromise;this._invoke=enqueue}function makeInvokeMethod(innerFn,self,context){var state=GenStateSuspendedStart;return function(method,arg){if(state===GenStateExecuting)throw new Error("Generator is already running");if(state===GenStateCompleted){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if(state===GenStateSuspendedStart)throw state=GenStateCompleted,context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state=GenStateExecuting;var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?GenStateCompleted:GenStateSuspendedYield,record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state=GenStateCompleted,context.method="throw",context.arg=record.arg)}}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(method===undefined){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=undefined,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=undefined),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=undefined,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:undefined,done:!0}}var undefined,Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag",inModule="object"==typeof module,runtime=global.regeneratorRuntime;if(runtime)return void(inModule&&(module.exports=runtime));runtime=global.regeneratorRuntime=inModule?module.exports:{},runtime.wrap=wrap;var GenStateSuspendedStart="suspendedStart",GenStateSuspendedYield="suspendedYield",GenStateExecuting="executing",GenStateCompleted="completed",ContinueSentinel={},IteratorPrototype={};IteratorPrototype[iteratorSymbol]=function(){return this};var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);GeneratorFunction.prototype=Gp.constructor=GeneratorFunctionPrototype,GeneratorFunctionPrototype.constructor=GeneratorFunction,GeneratorFunctionPrototype[toStringTagSymbol]=GeneratorFunction.displayName="GeneratorFunction",runtime.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},runtime.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,toStringTagSymbol in genFun||(genFun[toStringTagSymbol]="GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},runtime.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),AsyncIterator.prototype[asyncIteratorSymbol]=function(){return this},runtime.AsyncIterator=AsyncIterator,runtime.async=function(innerFn,outerFn,self,tryLocsList){var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList));return runtime.isGeneratorFunction(outerFn)?iter:iter.next().then(function(result){return result.done?result.value:iter.next()})},defineIteratorMethods(Gp),Gp[toStringTagSymbol]="Generator",Gp[iteratorSymbol]=function(){return this},Gp.toString=function(){return"[object Generator]"},runtime.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},runtime.values=values,Context.prototype={constructor:Context,reset:function(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=undefined,this.done=!1,this.delegate=null,this.method="next",this.arg=undefined,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=undefined)},stop:function(){this.done=!0;var rootEntry=this.tryEntries[0],rootRecord=rootEntry.completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function(exception){function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=undefined),!!caught}if(this.done)throw exception;for(var context=this,i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=undefined),ContinueSentinel}}}("object"==typeof global?global:"object"==typeof window?window:"object"==typeof self?self:this)}).call(exports,__webpack_require__(61))}],[0]);